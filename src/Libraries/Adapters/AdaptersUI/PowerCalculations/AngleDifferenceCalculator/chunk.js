"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[268],{65268:(e,t,n)=>{n.r(t),n.d(t,{default:()=>s});var a=n(6904),l=n(2580),r=n(54840);const i={LagTime:{Value:3,IsValid:e=>e>0,Description:"Defines the allowed past time deviation tolerance, in seconds (can be sub-second)."},LeadTime:{Value:1,IsValid:e=>e>0,Description:"Defines the allowed future time deviation tolerance, in seconds (can be sub-second)."},AlwaysProduceResult:{Value:!1,Description:"Defines flag that determines if adapter should always produce a result. When true, adapter will produce NaN for calculations that fail."},InputMeasurementKeys:{Value:[],Description:"Defines primary keys of input measurements the action adapter expects; can be one of a filter expression, measurement key, point tag or Guid.",Parse:e=>null==e?[]:""===e?[""]:e.split(";"),Construct:e=>0===(null==e?void 0:e.length)?null:null==e?void 0:e.join(";")},OutputMeasurements:{Value:"",Description:"Defines the primary key of the output measurement the action adapter expects; can be one of a filter expression, measurement key, point tag or Guid."},FramesPerSecond:{Value:30,IsValid:e=>e>0,Description:"Defines the number of frames per second expected by the adapter."}},s={Settings:e=>{var t,n,s,u,o;const c=a.useMemo((()=>r.AdapterHelperFuncs.parseConnectionString(e.ConnectionString,i)),[e.ConnectionString]);r.AdapterHelperFuncs.useSetInitialConnectionString(e.ConnectionString,e.SetConnectionString,i,c),r.AdapterHelperFuncs.useSetDefaultSettings(i,e.SetDefaultSettings);const d=a.useCallback((t=>{return n=void 0,a=void 0,s=function*(){const n=Object.assign({},t),a=r.AdapterHelperFuncs.constructConnectionString(n,i);a!==e.ConnectionString&&e.SetConnectionString(a)},new((l=void 0)||(l=Promise))((function(e,t){function r(e){try{u(s.next(e))}catch(e){t(e)}}function i(e){try{u(s.throw(e))}catch(e){t(e)}}function u(t){var n;t.done?e(t.value):(n=t.value,n instanceof l?n:new l((function(e){e(n)}))).then(r,i)}u((s=s.apply(n,a||[])).next())}));var n,a,l,s}),[e.ConnectionString]),m=a.useCallback(((e,t)=>{var n;const a=[...null!==(n=c.InputMeasurementKeys)&&void 0!==n?n:[]];a[t]=e,d(Object.assign(Object.assign({},c),{InputMeasurementKeys:a}))}),[c,d]);return a.useEffect((()=>{var t;if(null==c)return;const n=[];(null===(t=c.InputMeasurementKeys)||void 0===t?void 0:t.length)<2&&n.push("At least 2 Input Measurements are required."),null!=c.OutputMeasurements&&""!==c.OutputMeasurements||n.push("Output Measurement can not be empty."),(null==c.LagTime||c.LagTime<=0)&&n.push("Lag Time must be greater than 0."),(null==c.LeadTime||c.LeadTime<=0)&&n.push("Lead Time must be greater than 0."),(null==c.FramesPerSecond||c.FramesPerSecond<=0)&&n.push("Frames Per Second must be greater than 0."),e.SetErrors(n)}),[c]),a.createElement(a.Fragment,null,a.createElement("div",{className:"row"},a.createElement("div",{className:"col-6"},a.createElement(l.SearchableSelect,{Record:{InputMeasurement:null!==(n=null===(t=c.InputMeasurementKeys)||void 0===t?void 0:t[0])&&void 0!==n?n:""},Field:"InputMeasurement",Label:"Input Measurement 1",Setter:e=>m(e.InputMeasurement,0),Search:t=>(0,r.handleMeasurementSearch)(t,`${e.HomePath}api/grafana`),AllowCustom:!1,Style:{width:"100%"},BtnStyle:{display:"flex",paddingLeft:0,alignItems:"center"}})),a.createElement("div",{className:"col-6"},a.createElement(l.SearchableSelect,{Record:{InputMeasurement:null!==(u=null===(s=c.InputMeasurementKeys)||void 0===s?void 0:s[1])&&void 0!==u?u:""},Field:"InputMeasurement",Label:"Input Measurement 2",Setter:e=>m(e.InputMeasurement,1),Search:t=>(0,r.handleMeasurementSearch)(t,`${e.HomePath}api/grafana`),AllowCustom:!1,Style:{width:"100%"},BtnStyle:{display:"flex",paddingLeft:0,alignItems:"center"},Disabled:0===(null===(o=c.InputMeasurementKeys)||void 0===o?void 0:o.length)}))),a.createElement("div",{className:"row"},a.createElement("div",{className:"col-12"},a.createElement(l.SearchableSelect,{Record:c,Field:"OutputMeasurements",Label:"Output Measurement",Setter:d,Search:t=>(0,r.handleMeasurementSearch)(t,`${e.HomePath}api/grafana`),AllowCustom:!1,Style:{width:"100%"},BtnStyle:{display:"flex",paddingLeft:0,alignItems:"center"}}))),a.createElement("div",{className:"row"},a.createElement("div",{className:"col-12 col-xl-4"},a.createElement(l.Input,{Record:c,Setter:d,Label:"Frames Per Second",Type:"number",Field:"FramesPerSecond",Valid:e=>{var t,n,a;return null===(a=null===(n=null===(t=null==i?void 0:i.FramesPerSecond)||void 0===t?void 0:t.IsValid)||void 0===n?void 0:n.call(t,c[e]))||void 0===a||a},Feedback:"Frames Per Second must be greater than 0.",Help:i.FramesPerSecond.Description,AllowNull:!0})),a.createElement("div",{className:"col-12 col-xl-4"},a.createElement(l.Input,{Record:c,Setter:d,Label:"Lag Time",Type:"number",Field:"LagTime",Valid:e=>{var t,n,a;return null===(a=null===(n=null===(t=i.LagTime)||void 0===t?void 0:t.IsValid)||void 0===n?void 0:n.call(t,c[e]))||void 0===a||a},Feedback:"Lag Time must be greater than 0.",Help:i.LagTime.Description,AllowNull:!0})),a.createElement("div",{className:"col-12 col-xl-4"},a.createElement(l.Input,{Record:c,Setter:d,Label:"Lead Time",Type:"number",Field:"LeadTime",Valid:e=>{var t,n,a;return null===(a=null===(n=null===(t=i.LeadTime)||void 0===t?void 0:t.IsValid)||void 0===n?void 0:n.call(t,c[e]))||void 0===a||a},Feedback:"Lead Time must be greater than 0.",Help:i.LeadTime.Description,AllowNull:!0}))),a.createElement("div",{className:"row"},a.createElement("div",{className:"col-12"},a.createElement(l.ToggleSwitch,{Record:c,Field:"AlwaysProduceResult",Label:"Always Produce Result",Setter:d,Help:i.AlwaysProduceResult.Description}))))},Input:null,Output:null}}}]);