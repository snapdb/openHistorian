"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[406],{59406:(e,t,n)=>{n.r(t),n.d(t,{default:()=>o});var a=n(6904),l=n(2580),i=n(54840);const r={LowFrequencyThreshold:{Value:57,Description:"Defines low frequency reasonability threshold. Value is inclusive, i.e., frequency will be unreasonable at and beyond specified threshold."},HighFrequencyThreshold:{Value:62,Description:"Defines high frequency reasonability threshold. Value is inclusive, i.e., frequency will be unreasonable at and beyond specified threshold."},ReportUnreasonableResultsAsNaN:{Value:!1,Description:"Defines flag that determines if unreasonable results should be reported as NaN."},LagTime:{Value:3,IsValid:e=>e>0,Description:"Defines the allowed past time deviation tolerance, in seconds (can be sub-second)."},LeadTime:{Value:1,IsValid:e=>e>0,Description:"Defines the allowed future time deviation tolerance, in seconds (can be sub-second)."},FramesPerSecond:{Value:30,IsValid:e=>e>0,Description:"Defines the number of frames per second expected by the adapter."},Average:{Value:"",Description:"Defines the Output Measurement for Average.",IsValid:e=>null!=e&&0!==e.trim().length},Maximum:{Value:"",Description:"Defines the Output Measurement for Maximum.",IsValid:e=>null!=e&&0!==e.trim().length},Minimum:{Value:"",Description:"Defines the Output Measurement for Minimum.",IsValid:e=>null!=e&&0!==e.trim().length},InputMeasurementKeys:{Value:[],Description:"Defines primary keys of input measurements the action adapter expects; can be one of a filter expression, measurement key, point tag or Guid.",Parse:e=>null==e?[]:""===e?[""]:e.split(";"),Construct:e=>0===(null==e?void 0:e.length)?null:null==e?void 0:e.join(";")}},s=["Average","Maximum","Minimum"],u={Average:"Average",Maximum:"Maximum",Minimum:"Minimum"},o={Settings:e=>{const t=a.useMemo((()=>i.AdapterHelperFuncs.parseConnectionString(e.ConnectionString,r)),[e.ConnectionString]);i.AdapterHelperFuncs.useSetInitialConnectionString(e.ConnectionString,e.SetConnectionString,r,t),i.AdapterHelperFuncs.useSetDefaultSettings(r,e.SetDefaultSettings);const n=a.useCallback((t=>{const n=i.AdapterHelperFuncs.constructConnectionString(t,r);n!==e.ConnectionString&&e.SetConnectionString(n)}),[e.ConnectionString]),o=a.useCallback(((e,a)=>{const l=Object.assign(Object.assign({},t),{[a]:e});n(l)}),[t,n]),c=a.useCallback((e=>{n(Object.assign(Object.assign({},t),{InputMeasurementKeys:e}))}),[t,n]);return a.useEffect((()=>{var n;if(null==t)return;const a=[];(null===(n=t.InputMeasurementKeys)||void 0===n?void 0:n.length)<1&&a.push("At least 1 Input Measurement is required."),r.Average.IsValid(t.Average)||a.push("Average Output Measurement can not be empty."),r.Maximum.IsValid(t.Maximum)||a.push("Maximum Output Measurement can not be empty."),r.Minimum.IsValid(t.Minimum)||a.push("Minimum Output Measurement can not be empty."),r.LagTime.IsValid(t.LagTime)||a.push("Lag Time must be greater than 0."),r.LeadTime.IsValid(t.LeadTime)||a.push("Lead Time must be greater than 0."),r.FramesPerSecond.IsValid(t.FramesPerSecond)||a.push("Frames Per Second must be greater than 0."),e.SetErrors(a)}),[t]),null==t?a.createElement(a.Fragment,null):a.createElement("div",{className:"container-fluid d-flex flex-column h-100 p-0"},a.createElement("div",{className:"row"},a.createElement("div",{className:"col-12"},a.createElement(i.MeasurementSelector,{Measurements:t.InputMeasurementKeys,SetMeasurements:c,HomePath:e.HomePath,Title:"Input Measurements",DataTypeIndex:i.Grafana.DataTypeIndex.Measurement,BuildSearchExpression:e=>`SELECT PointTag FROM ActiveMeasurements Where SignalType Like '%FREQ%' AND PointTag Like '%${e}%'`}))),a.createElement("div",{className:"row"},a.createElement("div",{className:"col-12"},a.createElement("fieldset",{className:"border",style:{padding:"10px"}},a.createElement("legend",{className:"w-auto pr-2",style:{fontSize:"large"}},"Outputs"),s.map((n=>{const r=t[n];return a.createElement("div",{className:"row mb-2 align-items-center",key:n},a.createElement("div",{className:"col-12"},a.createElement(l.SearchableSelect,{Record:{Measurement:r},Field:"Measurement",Label:u[n],Setter:e=>o(e.Measurement,n),AllowCustom:!1,Search:t=>(0,i.handleMeasurementSearch)(t,`${e.HomePath}api/grafana`),Style:{width:"100%"},BtnStyle:{display:"flex",paddingLeft:0,alignItems:"center"}})))}))))),a.createElement("div",{className:"row"},a.createElement("div",{className:"col-6"},a.createElement(l.Input,{Record:t,Setter:n,Label:"Low Frequency Threshold",Type:"number",Field:"LowFrequencyThreshold",Valid:()=>!0,Feedback:"Defines low frequency reasonability threshold. Value is inclusive, i.e., frequency will be unreasonable at and beyond specified threshold."})),a.createElement("div",{className:"col-6"},a.createElement(l.Input,{Record:t,Setter:n,Label:"High Frequency Threshold",Type:"number",Field:"HighFrequencyThreshold",Valid:()=>!0,Feedback:"Defines high frequency reasonability threshold. Value is inclusive, i.e., frequency will be unreasonable at and beyond specified threshold."}))),a.createElement("div",{className:"row"},a.createElement("div",{className:"col-12 col-xl-4"},a.createElement(l.Input,{Record:t,Setter:n,Label:"Frames Per Second",Type:"number",Field:"FramesPerSecond",Valid:e=>{var n,a,l;return null===(l=null===(a=null===(n=null==r?void 0:r.FramesPerSecond)||void 0===n?void 0:n.IsValid)||void 0===a?void 0:a.call(n,t[e]))||void 0===l||l},Feedback:"Frames Per Second must be greater than 0.",Help:r.FramesPerSecond.Description,AllowNull:!0})),a.createElement("div",{className:"col-12 col-xl-4"},a.createElement(l.Input,{Record:t,Setter:n,Label:"Lag Time",Type:"number",Field:"LagTime",Valid:e=>{var n,a,l;return null===(l=null===(a=null===(n=r.LagTime)||void 0===n?void 0:n.IsValid)||void 0===a?void 0:a.call(n,t[e]))||void 0===l||l},Feedback:"Lag Time must be greater than 0.",Help:r.LagTime.Description,AllowNull:!0})),a.createElement("div",{className:"col-12 col-xl-4"},a.createElement(l.Input,{Record:t,Setter:n,Label:"Lead Time",Type:"number",Field:"LeadTime",Valid:e=>{var n,a,l;return null===(l=null===(a=null===(n=r.LeadTime)||void 0===n?void 0:n.IsValid)||void 0===a?void 0:a.call(n,t[e]))||void 0===l||l},Feedback:"Lead Time must be greater than 0.",Help:r.LeadTime.Description,AllowNull:!0}))),a.createElement("div",{className:"row"},a.createElement("div",{className:"col-12"},a.createElement(l.ToggleSwitch,{Record:t,Field:"ReportUnreasonableResultsAsNaN",Setter:n,Help:"Defines flag that determines if unreasonable results should be reported as NaN."}))))},Input:null,Output:e=>{const{Average:t,Maximum:n,Minimum:l}=i.AdapterHelperFuncs.parseConnectionString(e.ConnectionString),r=[t,n,l].filter((e=>null!=e&&""!==e)).join("; ");return a.createElement(i.DefaultAdapterOutput,Object.assign({},e,{Outputs:r}))}}}}]);