"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[934],{934:(e,t,n)=>{n.r(t),n.d(t,{default:()=>o});var a=n(6904),i=n(2580),l=n(54840);const r={EstimateTriggerThreshold:{Value:.0256,Description:"Define the threshold for detecting an abnormal excursion in frequency."},AnalysisWindowSize:{Value:120,Description:"Define the number of frames to be analyzed at any given time. The default value is 4 times the frame-rate defined in the connection string for this Frequency Excursion."},AnalysisInterval:{Value:30,Description:"Define the interval between adjacent calculations. The default value is the frame-rate defined in the connection string for this Frequency Excursion."},ConsecutiveDetections:{Value:2,Description:"Define the minimum number of consecutive excursions needed in order to trip the alarm."},MinimumValidChannels:{Value:3,Description:"Define the minimum frequency values needed to perform a valid calculation."},PowerEstimateRatio:{Value:19530,Description:"Define the ratio used to calculate the total estimated MW change from frequency."},MinimumAlarmInterval:{Value:20,Description:"Define the period, in seconds, used to prevent duplicate alarms."},InputMeasurementKeys:{Value:[],Description:"Defines primary keys of input measurements the action adapter expects; can be one of a filter expression, measurement key, point tag or Guid.",Parse:e=>null==e?[]:""===e?[""]:e.split(";"),Construct:e=>0===(null==e?void 0:e.length)?null:null==e?void 0:e.join(";")},LagTime:{Value:3,IsValid:e=>e>0,Description:"Defines the allowed past time deviation tolerance, in seconds (can be sub-second)."},LeadTime:{Value:1,IsValid:e=>e>0,Description:"Defines the allowed future time deviation tolerance, in seconds (can be sub-second)."},FramesPerSecond:{Value:30,IsValid:e=>e>0,Description:"Defines the number of frames per second expected by the adapter."},WarningSignal:{Value:"",Description:"Defines the Output Measurement for Warning Signal.",IsValid:e=>null!=e&&0!==e.trim().length},FrequencyDelta:{Value:"",Description:"Defines the Output Measurement for Frequency Delta.",IsValid:e=>null!=e&&0!==e.trim().length},TypeOfExcursion:{Value:"",Description:"Defines the Output Measurement for Type Of Excursion.",IsValid:e=>null!=e&&0!==e.trim().length},EstimatedSize:{Value:"",Description:"Defines the Output Measurement for Estimated Size.",IsValid:e=>null!=e&&0!==e.trim().length}},s=["WarningSignal","FrequencyDelta","TypeOfExcursion","EstimatedSize"],c={WarningSignal:"Warning Signal",FrequencyDelta:"Frequency Delta",TypeOfExcursion:"Type Of Excursion",EstimatedSize:"Estimated Size"},o={Settings:e=>{const t=a.useMemo((()=>l.AdapterHelperFuncs.parseConnectionString(e.ConnectionString,r)),[e.ConnectionString]);l.AdapterHelperFuncs.useSetInitialConnectionString(e.ConnectionString,e.SetConnectionString,r,t),l.AdapterHelperFuncs.useSetDefaultSettings(r,e.SetDefaultSettings);const n=a.useCallback((t=>{const n=l.AdapterHelperFuncs.constructConnectionString(t,r);e.SetConnectionString(n)}),[e.ConnectionString]),o=a.useCallback(((e,a)=>{const i=Object.assign(Object.assign({},t),{[a]:e});n(i)}),[t,n]),u=a.useCallback((e=>{n(Object.assign(Object.assign({},t),{InputMeasurementKeys:e}))}),[t,n]);return a.useEffect((()=>{var n;if(null==t)return;const a=[];(null===(n=t.InputMeasurementKeys)||void 0===n?void 0:n.length)<t.MinimumValidChannels&&a.push(`At least ${t.MinimumValidChannels} Input Measurement is required.`),r.WarningSignal.IsValid(t.WarningSignal)||a.push("Warning Signal Output Measurement can not be empty."),r.FrequencyDelta.IsValid(t.FrequencyDelta)||a.push("Frequency Delta Output Measurement can not be empty."),r.TypeOfExcursion.IsValid(t.TypeOfExcursion)||a.push("Type Of Excursion Output Measurement can not be empty."),r.EstimatedSize.IsValid(t.EstimatedSize)||a.push("Estimated Size Output Measurement can not be empty."),r.LagTime.IsValid(t.LagTime)||a.push("Lag Time must be greater than 0."),r.LeadTime.IsValid(t.LeadTime)||a.push("Lead Time must be greater than 0."),r.FramesPerSecond.IsValid(t.FramesPerSecond)||a.push("Frames Per Second must be greater than 0."),e.SetErrors(a)}),[t]),null==t?a.createElement(a.Fragment,null):a.createElement("div",{className:"container-fluid d-flex flex-column h-100 p-0"},a.createElement("div",{className:"row"},a.createElement("div",{className:"col-12"},a.createElement(l.MeasurementSelector,{Measurements:t.InputMeasurementKeys,SetMeasurements:u,HomePath:e.HomePath,Title:"Input Measurements",DataTypeIndex:l.Grafana.DataTypeIndex.Measurement,BuildSearchExpression:e=>`SELECT PointTag FROM ActiveMeasurements Where SignalType Like '%FREQ%' AND PointTag Like '%${e}%'`}))),a.createElement("div",{className:"row"},a.createElement("div",{className:"col-12"},a.createElement("fieldset",{className:"border",style:{padding:"10px"}},a.createElement("legend",{className:"w-auto pr-2",style:{fontSize:"large"}},"Outputs"),s.map((n=>{const r=t[n];return a.createElement("div",{className:"row mb-2 align-items-center",key:n},a.createElement("div",{className:"col-12"},a.createElement(i.SearchableSelect,{Record:{Measurement:r},Field:"Measurement",Label:c[n],Setter:e=>o(e.Measurement,n),AllowCustom:!1,Search:t=>(0,l.handleMeasurementSearch)(t,`${e.HomePath}api/grafana`),Style:{width:"100%"},BtnStyle:{display:"flex",paddingLeft:0,alignItems:"center"}})))}))))),a.createElement("div",{className:"row"},a.createElement("div",{className:"col-12"},a.createElement(i.Input,{Record:t,Setter:n,Label:"Estimate Trigger Threshold",Type:"number",Field:"EstimateTriggerThreshold",Valid:()=>!0,Help:r.EstimateTriggerThreshold.Description,AllowNull:!0}))),a.createElement("div",{className:"row"},a.createElement("div",{className:"col-12"},a.createElement(i.Input,{Record:t,Setter:n,Label:"Consecutive Detections",Type:"number",Field:"ConsecutiveDetections",Valid:()=>!0,Feedback:"Consecutive Detections must be greater than 0.",Help:r.ConsecutiveDetections.Description,AllowNull:!0}))),a.createElement("div",{className:"row"},a.createElement("div",{className:"col-12"},a.createElement(i.Input,{Record:t,Setter:n,Label:"Minimum Valid Channels",Type:"number",Field:"MinimumValidChannels",Valid:()=>!0,Feedback:"Minimum Valid Channels must be greater than 0.",Help:r.MinimumValidChannels.Description,AllowNull:!0}))),a.createElement("div",{className:"row"},a.createElement("div",{className:"col-12"},a.createElement(i.Input,{Record:t,Setter:n,Label:"Power Estimate Ratio",Type:"number",Field:"PowerEstimateRatio",Valid:()=>!0,Feedback:"Power Estimate Ratio must be greater than 0.",Help:r.PowerEstimateRatio.Description,AllowNull:!0}))),a.createElement("div",{className:"row"},a.createElement("div",{className:"col-12"},a.createElement(i.Input,{Record:t,Setter:n,Label:"Minimum Alarm Interval",Type:"number",Field:"MinimumAlarmInterval",Valid:()=>!0,Feedback:"Minimum Alarm Interval must be greater than 0.",Help:r.MinimumAlarmInterval.Description,AllowNull:!0}))),a.createElement("div",{className:"row"},a.createElement("div",{className:"col-6"},a.createElement(i.Input,{Record:t,Setter:n,Label:"Analysis Window Size",Type:"number",Field:"AnalysisWindowSize",Valid:()=>!0,Help:r.AnalysisWindowSize.Description,AllowNull:!0})),a.createElement("div",{className:"col-6"},a.createElement(i.Input,{Record:t,Setter:n,Label:"Analysis Interval",Type:"number",Field:"AnalysisInterval",Valid:()=>!0,Help:r.AnalysisInterval.Description,AllowNull:!0}))),a.createElement("div",{className:"row"},a.createElement("div",{className:"col-12 col-xl-4"},a.createElement(i.Input,{Record:t,Setter:n,Label:"Frames Per Second",Type:"number",Field:"FramesPerSecond",Valid:e=>{var n,a,i;return null===(i=null===(a=null===(n=null==r?void 0:r.FramesPerSecond)||void 0===n?void 0:n.IsValid)||void 0===a?void 0:a.call(n,t[e]))||void 0===i||i},Feedback:"Frames Per Second must be greater than 0.",Help:r.FramesPerSecond.Description,AllowNull:!0})),a.createElement("div",{className:"col-12 col-xl-4"},a.createElement(i.Input,{Record:t,Setter:n,Label:"Lag Time",Type:"number",Field:"LagTime",Valid:e=>{var n,a,i;return null===(i=null===(a=null===(n=r.LagTime)||void 0===n?void 0:n.IsValid)||void 0===a?void 0:a.call(n,t[e]))||void 0===i||i},Feedback:"Lag Time must be greater than 0.",Help:r.LagTime.Description,AllowNull:!0})),a.createElement("div",{className:"col-12 col-xl-4"},a.createElement(i.Input,{Record:t,Setter:n,Label:"Lead Time",Type:"number",Field:"LeadTime",Valid:e=>{var n,a,i;return null===(i=null===(a=null===(n=r.LeadTime)||void 0===n?void 0:n.IsValid)||void 0===a?void 0:a.call(n,t[e]))||void 0===i||i},Feedback:"Lead Time must be greater than 0.",Help:r.LeadTime.Description,AllowNull:!0}))))},Input:null,Output:e=>{const{WarningSignal:t,FrequencyDelta:n,TypeOfExcursion:i,EstimatedSize:r}=l.AdapterHelperFuncs.parseConnectionString(e.ConnectionString),s=[t,n,i,r].filter((e=>null!=e&&""!==e)).join("; ");return a.createElement(l.DefaultAdapterOutput,Object.assign({},e,{Outputs:s}))}}}}]);