"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[106],{93107:function(e,t,n){var a=this&&this.__assign||function(){return a=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},a.apply(this,arguments)},o=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var a,o,i=n.call(e),r=[];try{for(;(void 0===t||t-- >0)&&!(a=i.next()).done;)r.push(a.value)}catch(e){o={error:e}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return r},i=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var a,o=0,i=t.length;o<i;o++)!a&&o in t||(a||(a=Array.prototype.slice.call(t,0,o)),a[o]=t[o]);return e.concat(a||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0});var r=n(6904),l=n(84917),s=n(18718);t.default=function(e){var t=r.useContext(l.GraphContext),n=o(r.useState([]),2),c=n[0],u=n[1],f=void 0!==e.useSingleAggregation&&e.useSingleAggregation;return r.useEffect((function(){u(function(n){for(var r=n.map((function(e){return a({},e)})),l=[],s={YInverseTransformation:t.YInverseTransformation,XInverseTransformation:t.XInverseTransformation,YTransformation:t.YTransformation,XTransformation:t.XTransformation},c=function(t){for(var n=l.findIndex((function(e){return e.Indices.includes(t)})),a=function(a){var c;if(!e.canAggregate(r[t],r[a],s))return"continue";var u=l.findIndex((function(e){return e.Indices.includes(a)}));return n<0&&u<0?(l.push({Indices:[t,a],Aggregate:null}),n=l.length-1,"continue"):n===u?"continue":(n>=0&&u<0&&l[n].Indices.push(a),n<0&&u>=0?(l[u].Indices.push(t),n=l.length-1,"continue"):void(n>=0&&u>=0&&((c=l[n].Indices).push.apply(c,i([],o(l[u].Indices),!1)),l.splice(u,1),n=l.findIndex((function(e){return e.Indices.includes(t)})))))},c=t+1;c<r.length;c+=1)a(c)},u=0;u<r.length;u+=1)c(u);var d=l.length,h=l.reduce((function(e,t){return e+t.Indices.length}),0);if(l.forEach((function(t){t.Aggregate=e.onAggregation(r.filter((function(e,n){return t.Indices.includes(n)})),s)})),!f&&d>0){var m=function(){d=l.length,h=l.reduce((function(e,t){return e+t.Indices.length}),0);for(var t=[],n=function(n){for(var a=n,c=function(c){var u;return e.canAggregate(l[n].Aggregate,l[c].Aggregate,s)?(t.push(n),(u=l[c].Indices).push.apply(u,i([],o(l[n].Indices),!1)),l[c].Aggregate=e.onAggregation(r.filter((function(e,t){return l[c].Indices.includes(t)})),s),a=c,"break"):"continue"},u=n+1;u<l.length&&"break"!==c(u);u+=1);var f=function(t){return l.findIndex((function(e){return e.Indices.includes(t)}))>-1?"continue":e.canAggregate(l[a].Aggregate,r[t],s)?(l[a].Indices.push(t),void(l[a].Aggregate=e.onAggregation(r.filter((function(e,t){return l[a].Indices.includes(t)})),s))):"continue"};for(u=0;u<r.length;u+=1)f(u)},a=0;a<l.length;a+=1)n(a);l=l.filter((function(e,n){return!t.includes(n)}))};do{m()}while(d!==l.length||h!==l.reduce((function(e,t){return e+t.Indices.length}),0))}return i(i([],o(r.filter((function(e,t){return-1===l.findIndex((function(e){return e.Indices.includes(t)}))}))),!1),o(l.map((function(e){return e.Aggregate}))),!1)}(e.data))}),[e.data,t.UpdateFlag]),r.createElement("g",null,c.map((function(e,n){return r.createElement(s.ContextlessCircle,{key:n.toString()+(void 0===e.text?"":e.text),circleProps:e,context:t})})))}},84998:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});var a=n(6904);t.default=function(e){return a.createElement(a.Fragment,null,e.children)}},18718:function(e,t,n){var a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var a,o,i=n.call(e),r=[];try{for(;(void 0===t||t-- >0)&&!(a=i.next()).done;)r.push(a.value)}catch(e){o={error:e}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return r};Object.defineProperty(t,"__esModule",{value:!0}),t.ContextlessCircle=l;var o=n(24334),i=n(6904),r=n(84917);function l(e){var t=a(i.useState(""),2),n=t[0],l=t[1],s=a(i.useState(1),2),c=s[0],u=s[1];function f(t,n){if(void 0!==e.circleProps.onClick){var a=r.AxisMap.get(e.circleProps.axis),o=e.context.XTransformation(t),i=e.context.YTransformation(n,a),l=e.context.XTransformation(e.circleProps.data[0]),s=e.context.YTransformation(e.circleProps.data[1],a);o<=l+e.circleProps.radius&&o>=l-e.circleProps.radius&&i<=s+e.circleProps.radius&&i>=s-e.circleProps.radius&&e.circleProps.onClick({setYDomain:e.context.SetYDomain,setTDomain:e.context.SetXDomain})}}return i.useEffect((function(){""!==n&&e.context.UpdateData(n,{axis:e.circleProps.axis,legend:void 0,getMax:function(t){return t[0]<e.circleProps.data[0]&&t[1]>e.circleProps.data[0]?e.circleProps.data[1]:void 0},getMin:function(t){return t[0]<e.circleProps.data[0]&&t[1]>e.circleProps.data[0]?e.circleProps.data[1]:void 0}})}),[e.circleProps]),i.useEffect((function(){var t=e.context.AddData({axis:e.circleProps.axis,legend:void 0,getMax:function(t){return t[0]<e.circleProps.data[0]&&t[1]>e.circleProps.data[0]?e.circleProps.data[1]:void 0},getMin:function(t){return t[0]<e.circleProps.data[0]&&t[1]>e.circleProps.data[0]?e.circleProps.data[1]:void 0}});return l(t),function(){e.context.RemoveData(t)}}),[]),i.useEffect((function(){if(void 0!==e.circleProps.text){for(var t=5,n=(0,o.GetTextWidth)("Segoe UI",t+"em",e.circleProps.text),a=(0,o.GetTextHeight)("Segoe UI",t+"em",e.circleProps.text);(n>2*e.circleProps.radius||a>2*e.circleProps.radius)&&t>.05;)t-=.01,n=(0,o.GetTextWidth)("Segoe UI",t+"em",e.circleProps.text),a=(0,o.GetTextHeight)("Segoe UI",t+"em",e.circleProps.text);u(t)}}),[e.circleProps.text,e.circleProps.radius]),i.useEffect((function(){""!==n&&void 0!==e.circleProps.onClick&&e.context.UpdateSelect(n,{onClick:f})}),[e.circleProps.onClick,e.context.UpdateFlag]),isFinite(e.context.XTransformation(e.circleProps.data[0]))&&isFinite(e.context.YTransformation(e.circleProps.data[1],r.AxisMap.get(e.circleProps.axis)))?i.createElement("g",null,i.createElement("circle",{r:e.circleProps.radius,cx:e.context.XTransformation(e.circleProps.data[0]),cy:e.context.YTransformation(e.circleProps.data[1],r.AxisMap.get(e.circleProps.axis)),fill:e.circleProps.color,opacity:e.circleProps.opacity,stroke:e.circleProps.borderColor,strokeWidth:e.circleProps.borderThickness}),void 0!==e.circleProps.text?i.createElement("text",{fill:"currentColor",style:{fontSize:c+"em",textAnchor:"middle",dominantBaseline:"middle"},y:e.context.YTransformation(e.circleProps.data[1],r.AxisMap.get(e.circleProps.axis)),x:e.context.XTransformation(e.circleProps.data[0])},e.circleProps.text):null):null}t.default=function(e){var t=i.useContext(r.GraphContext);return i.createElement(l,{circleProps:e,context:t})}},84917:function(e,t,n){var a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var a,o,i=n.call(e),r=[];try{for(;(void 0===t||t-- >0)&&!(a=i.next()).done;)r.push(a.value)}catch(e){o={error:e}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return r},o=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var a,o=0,i=t.length;o<i;o++)!a&&o in t||(a||(a=Array.prototype.slice.call(t,0,o)),a[o]=t[o]);return e.concat(a||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.ContextWrapper=t.AxisMap=t.LineMap=t.GraphContext=void 0;var i=n(6904);t.GraphContext=i.createContext({XDomain:[0,0],XHover:NaN,XHoverSnap:NaN,YHover:[NaN,NaN],YHoverSnap:[NaN,NaN],YDomain:[[0,0]],CurrentMode:"select",MassEnableCommand:{requester:"",command:"none"},Data:i.createRef(),DataGuid:"",XApplyPixelOffset:function(e){return e},YApplyPixelOffset:function(e){return e},XTransformation:function(e){return 0},YTransformation:function(e,t){return 0},XInverseTransformation:function(e){return 0},YInverseTransformation:function(e,t){return 0},AddData:function(e){return""},RemoveData:function(e){},UpdateData:function(e){},SetLegend:function(e){},RegisterSelect:function(e){return""},RemoveSelect:function(e){},UpdateSelect:function(e){},SetXDomain:function(e){},SetYDomain:function(e){},UpdateFlag:0}),t.LineMap=new Map([["-","none"],["solid","none"],[":","10,5"],["short-dash","10,5"],["dash","20,5"],["long-dash","30,5"]]);t.AxisMap=new function(e,t){var n=this;this.get=function(e){var t;return null!==(t=n.mapBase.get(e))&&void 0!==t?t:n.undefinedOverride},this.values=function(){return n.mapBase.values()},this.keys=function(){return n.mapBase.keys()},this.mapBase=new Map(e),this.undefinedOverride=t,this.size=this.mapBase.size}([["left",0],["right",1]],0),t.ContextWrapper=function(e){var n=i.useMemo((function(){return{XDomain:e.XDomain,XHover:e.MouseIn?e.XInvTransform(e.MousePosition[0]):NaN,YHover:e.MouseIn?o([],a(t.AxisMap.values()),!1).map((function(t){return e.YInvTransform(e.MousePosition[1],t)})):Array(t.AxisMap.size).fill(NaN),XHoverSnap:e.MouseIn?e.XInvTransform(e.MousePositionSnap[0]):NaN,YHoverSnap:e.MouseIn?o([],a(t.AxisMap.values()),!1).map((function(t){return e.YInvTransform(e.MousePositionSnap[1],t)})):Array(t.AxisMap.size).fill(NaN),YDomain:e.YDomain,CurrentMode:e.CurrentMode,Data:e.Data,MassEnableCommand:e.MassEnableCommand,DataGuid:e.DataGuid,XApplyPixelOffset:e.XApplyPixelOffset,YApplyPixelOffset:e.YApplyPixelOffset,XTransformation:e.XTransform,YTransformation:e.YTransform,XInverseTransformation:e.XInvTransform,YInverseTransformation:e.YInvTransform,AddData:e.AddData,RemoveData:e.RemoveData,UpdateData:e.UpdateData,SetLegend:e.SetLegend,RegisterSelect:e.RegisterSelect,RemoveSelect:e.RemoveSelect,UpdateSelect:e.UpdateSelect,UpdateFlag:e.UpdateFlag,SetXDomain:e.SetXDomain,SetYDomain:e.SetYDomain}}),[e.XDomain,e.MousePosition,e.MousePositionSnap,e.YDomain,e.CurrentMode,e.MouseIn,e.UpdateFlag,e.DataGuid,e.XApplyPixelOffset,e.YApplyPixelOffset,e.XTransform,e.XInvTransform,e.YInvTransform,e.YTransform,e.SetXDomain,e.SetYDomain,e.AddData,e.RemoveData,e.UpdateData,e.SetLegend,e.RegisterSelect,e.RemoveSelect,e.UpdateSelect]);return i.createElement(t.GraphContext.Provider,{value:n},e.children)}},74929:function(e,t,n){var a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var a,o,i=n.call(e),r=[];try{for(;(void 0===t||t-- >0)&&!(a=i.next()).done;)r.push(a.value)}catch(e){o={error:e}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return r};Object.defineProperty(t,"__esModule",{value:!0});var o=n(6904),i=n(74016),r={fill:"none",userSelect:"none",WebkitTouchCallout:"none",WebkitUserSelect:"none",KhtmlUserSelect:"none",MozUserSelect:"none",msUserSelect:"none",pointerEvents:"none"},l={fontSize:"1em",textAnchor:"middle",dominantBaseline:"hanging",transition:"x 0.5s, y 0.5s"};t.default=function(e){var t=a(o.useState(1),2),n=t[0],s=t[1],c=o.useContext(i.LegendContext),u=c.LgHeight,f=c.LgWidth;return o.useEffect((function(){var t=e.maxValue-e.minValue;0===t&&(t=Math.abs(e.minValue)),t>=15&&s(0),t<15&&t>=1.5&&s(1),t<1.5&&t>=.15&&s(2),t<.15&&s(3),t<.015&&s(4),t<.0015&&s(5),0===t&&s(2)}),[e.maxValue,e.minValue]),o.createElement("div",{style:{height:u,width:f}},o.createElement("div",{style:{width:"100%",display:"flex",alignItems:"center",marginRight:"5px",height:"100%"}},o.createElement("svg",{style:r,viewBox:"0 0 ".concat(f," ").concat(u)},o.createElement("linearGradient",{id:e.id,x1:"0",x2:"".concat(f<u?0:1),y1:"0",y2:"".concat(f<u?1:0)},o.createElement("stop",{offset:"5%",stopColor:e.minColor}),o.createElement("stop",{offset:"95%",stopColor:e.maxColor})),o.createElement("path",{stroke:"currentColor",fill:"url(#".concat(e.id,")"),style:{strokeWidth:1,transition:"d 0.5s"},d:f<u?"M ".concat(.05*f," ").concat(.1*u," H ").concat(.5*f," V ").concat(.9*u," H ").concat(.05*f," V ").concat(.1*u):"M ".concat(.1*f," ").concat(.05*u," H ").concat(.9*f," V ").concat(.5*u," H ").concat(.1*f," V ").concat(.05*u)}),o.createElement("text",{fill:"currentColor",style:l,x:f*(f<u?.5:.1),y:u*(f<u?.1:.5),transform:"rotate(".concat(f<u?270:0,",").concat(f*(f<u?.5:.1),",").concat(u*(f<u?.1:.5),")")},"".concat(e.minValue.toFixed(n)).concat(void 0!==e.unitLabel?"".concat(e.unitLabel):"")),o.createElement("text",{fill:"currentColor",style:l,x:f*(f<u?.5:.9),y:u*(f<u?.9:.5),transform:"rotate(".concat(f<u?270:0,",").concat(f*(f<u?.5:.9),",").concat(u*(f<u?.9:.5),")")},"".concat(e.maxValue.toFixed(n)).concat(void 0!==e.unitLabel?"".concat(e.unitLabel):"")))))}},31594:function(e,t,n){var a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var a,o,i=n.call(e),r=[];try{for(;(void 0===t||t-- >0)&&!(a=i.next()).done;)r.push(a.value)}catch(e){o={error:e}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return r};Object.defineProperty(t,"__esModule",{value:!0});var o=n(6904),i=n(24334),r=n(84917),l=n(70894),s=n(74929);t.default=function(e){var t=a(o.useState(""),2),n=t[0],c=t[1],u=a(o.useState(null),2),f=u[0],d=u[1],h=a(o.useState(0),2),m=h[0],p=h[1],v=o.useContext(r.GraphContext),g=o.useMemo((function(){return v.YTransformation(v.YDomain[r.AxisMap.get(e.axis)][0],r.AxisMap.get(e.axis))}),[v.YTransformation,v.YDomain,e.axis]),y=o.useMemo((function(){return null==f?[0,1]:f.GetLimits(v.XDomain[0],v.XDomain[1],1)}),[f,v.XDomain]),x=function(){switch(e.barAlign){case"left":return 0;case"center":return.5*m;case"right":return m}return 0}();o.useEffect((function(){null!=f&&""!==n&&(void 0===e.sampleMs?p((v.XTransformation(f.maxT)-v.XTransformation(f.minT))/f.GetFullData().length):p(v.XTransformation(f.minT+e.sampleMs)-v.XTransformation(f.minT)))}),[f,v.XTransformation,e.sampleMs]);var M=o.useCallback((function(){return o.createElement(s.default,{id:n,unitLabel:e.legendUnit,enabled:!0,minColor:(0,i.HsvToHex)(e.hue,e.saturation,1),maxColor:(0,i.HsvToHex)(e.hue,e.saturation,0),minValue:y[0],maxValue:y[1]})}),[e.legendUnit,y,e.hue,e.saturation,n]);return o.useEffect((function(){d(new l.PointNode(e.data))}),[e.data]),o.useEffect((function(){""!==n&&v.UpdateData(n,{axis:e.axis,legend:M(),enabled:!0,getMax:function(e){return null==f?-1/0:f.GetLimits(e[0],e[1],0)[1]},getMin:function(e){return null==f?1/0:f.GetLimits(e[0],e[1],0)[0]}})}),[e,f,M]),o.useEffect((function(){var t=v.AddData({axis:e.axis,legend:M(),enabled:!1,getMax:function(e){return null==f?-1/0:f.GetLimits(e[0],e[1],0)[1]},getMin:function(e){return null==f?1/0:f.GetLimits(e[0],e[1],0)[0]}});return c(t),function(){v.RemoveData(t)}}),[]),o.createElement("g",null,null==f?null:f.GetFullData().map((function(t,n){var a,l=v.YTransformation(t[1]+(null!==(a=e.binSize)&&void 0!==a?a:0),r.AxisMap.get(e.axis)),s=1-(t[2]-y[0])/(y[1]-y[0]),c=(0,i.HsvToHex)(e.hue,e.saturation,s);return o.createElement("rect",{key:n,x:v.XTransformation(t[0])-x,y:l,width:m,height:Math.abs(l-(void 0!==e.binSize?v.YTransformation(t[1],r.AxisMap.get(e.axis)):g)),fill:c,stroke:c})})))}},30371:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});var a=n(6904),o=n(84917);t.default=function(e){var t,n,i,r=a.useContext(o.GraphContext),l=o.AxisMap.get(e.Axis),s=null!==(t=e.StartY)&&void 0!==t?t:r.YDomain[l][0],c=null!==(n=e.EndY)&&void 0!==n?n:r.YDomain[l][1],u=r.XTransformation(e.XVals[0]),f=r.XTransformation(e.XVals[1]),d=r.YTransformation(s,l),h=r.YTransformation(c,l),m=Math.abs(h-d),p=Math.abs(f-u);return a.createElement("g",null,a.createElement("rect",{x:Math.min(u,f),y:Math.min(d,h),width:p,height:m,fill:e.Color,opacity:e.Opacity,stroke:null!==(i=e.Stroke)&&void 0!==i?i:"none"}))}},6460:function(e,t,n){var a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var a,o,i=n.call(e),r=[];try{for(;(void 0===t||t-- >0)&&!(a=i.next()).done;)r.push(a.value)}catch(e){o={error:e}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return r};Object.defineProperty(t,"__esModule",{value:!0});var o=n(6904),i=n(84917);t.default=function(e){var t=o.useContext(i.GraphContext),n=a(o.useState(e.Value),2),r=n[0],l=n[1],s=a(o.useState(!1),2),c=s[0],u=s[1],f=a(o.useState(""),2),d=f[0],h=f[1];function m(n){var a=i.AxisMap.get(e.axis),o=void 0===e.start?t.XDomain[0]:e.start,r=void 0===e.end?t.XDomain[1]:e.end;return"M ".concat(t.XTransformation(o)," ").concat(t.YTransformation(n,a)," L ").concat(t.XTransformation(r)," ").concat(t.YTransformation(n,a))}var p=o.useCallback((function(n,a){var o=i.AxisMap.get(e.axis),r=t.YTransformation(e.Value,o),l=t.YTransformation(a,o);l<=r+e.width/2&&l>=r-e.width/2&&u(!0)}),[e.width,e.Value,e.axis,t.YTransformation]);return o.useEffect((function(){var n=t.RegisterSelect({axis:e.axis,allowSnapping:!1,onClick:p,onRelease:function(e){return u(!1)},onPlotLeave:function(e){return u(!1)}});return h(n),function(){t.RemoveSelect(n)}}),[]),o.useEffect((function(){""!==d&&t.UpdateSelect(d,{axis:e.axis,allowSnapping:!1,onClick:p,onRelease:function(e){return u(!1)},onPlotLeave:function(e){return u(!1)}})}),[p]),o.useEffect((function(){l(e.Value)}),[e.Value]),o.useEffect((function(){void 0!==e.setValue&&(c||e.Value===r||e.setValue(r))}),[c,r]),o.useEffect((function(){"select"!==t.CurrentMode&&u(!1)}),[t.CurrentMode]),o.useEffect((function(){c&&l(t.YHoverSnap[i.AxisMap.get(e.axis)])}),[t.YHoverSnap,e.axis]),o.createElement("g",null,o.createElement("path",{d:m(e.Value),style:{fill:"none",strokeWidth:e.width,stroke:e.color},strokeDasharray:i.LineMap.get(e.lineStyle)}),void 0!==e.setValue&&e.Value!==r&&c?o.createElement("path",{d:m(r),style:{fill:"none",strokeWidth:e.width,stroke:e.color,opacity:.5},strokeDasharray:i.LineMap.get(e.lineStyle)}):null)}},11505:function(e,t,n){var a=n(78),o=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var a,o,i=n.call(e),r=[];try{for(;(void 0===t||t-- >0)&&!(a=i.next()).done;)r.push(a.value)}catch(e){o={error:e}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return r};Object.defineProperty(t,"__esModule",{value:!0});var i=n(6904),r=n(84917),l=function(e){var t;return i.createElement("path",{d:"M ".concat(e.x," ").concat(e.y," h ").concat(e.width," v ").concat(e.height," h -").concat(e.width," v -").concat(e.height),stroke:"black",style:{opacity:null!==(t=e.opacity)&&void 0!==t?t:1}})};t.default=function(e){var t=i.useContext(r.GraphContext),n=o(i.useState(!1),2),s=n[0],c=n[1],u=o(i.useState({x:e.x,y:e.y}),2),f=u[0],d=u[1],h=o(i.useState({width:100,height:100}),2),m=h[0],p=h[1],v=o(i.useState(""),2),g=v[0],y=v[1],x=i.useCallback((function(n){var a,o,i,r=null!==(a=e.usePixelPositioning)&&void 0!==a&&a?t.XApplyPixelOffset(n):t.XTransformation(n);switch(e.origin){case"lower-right":case"upper-right":r-=m.width+(null!==(o=e.offset)&&void 0!==o?o:0);break;case"lower-center":case"upper-center":r-=Math.floor(m.width/2);break;case void 0:case"lower-left":case"upper-left":r+=null!==(i=e.offset)&&void 0!==i?i:0}return r}),[t.XApplyPixelOffset,t.XTransformation,e.origin,e.offset,e.usePixelPositioning,m]),M=i.useCallback((function(n){var a,o,i,l=null!==(a=e.usePixelPositioning)&&void 0!==a&&a?t.YApplyPixelOffset(n):t.YTransformation(n,r.AxisMap.get(e.axis));switch(e.origin){case void 0:case"upper-left":case"upper-right":case"upper-center":l+=null!==(o=e.offset)&&void 0!==o?o:0;break;case"lower-left":case"lower-right":case"lower-center":l-=m.height+(null!==(i=e.offset)&&void 0!==i?i:0)}return l}),[t.YApplyPixelOffset,t.YTransformation,e.origin,e.offset,e.usePixelPositioning,e.axis,m]),S=i.useCallback((function(n,a){var o=x(e.x),i=t.XTransformation(n),l=M(e.y),s=t.YTransformation(a,r.AxisMap.get(e.axis));i<=o+m.width&&i>=o&&s<=l+m.height&&s>=l&&c(!0)}),[e.x,e.y,x,M,m,c,t.XTransformation,t.YTransformation,e.axis]),b=void 0===e.onMouseMove?void 0:i.useCallback((function(t,n){void 0!==e.onMouseMove&&e.onMouseMove(t,n)}),[e.onMouseMove]);return i.useEffect((function(){var n=t.RegisterSelect({axis:e.axis,allowSnapping:!1,onRelease:function(e){return c(!1)},onPlotLeave:function(e){return c(!1)},onClick:S,onMove:b});return y(n),function(){t.RemoveSelect(n)}}),[]),i.useEffect((function(){""!==g&&t.UpdateSelect(g,{axis:e.axis,allowSnapping:!1,onRelease:function(e){return c(!1)},onPlotLeave:function(e){return c(!1)},onClick:S,onMove:b})}),[S,b,e.axis]),i.useEffect((function(){d({x:e.x,y:e.y})}),[e.x,e.y]),i.useEffect((function(){void 0!==e.setPosition&&(s||e.x===f.x&&e.y===f.y||e.setPosition(f.x,f.y))}),[s,f]),i.useEffect((function(){"select"!==t.CurrentMode&&c(!1)}),[t.CurrentMode]),i.useEffect((function(){var n;!s||null!==(n=e.disallowSnapping)&&void 0!==n&&n||d({x:t.XHoverSnap,y:t.YHoverSnap[r.AxisMap.get(e.axis)]})}),[t.XHoverSnap,t.YHoverSnap,e.axis]),i.useEffect((function(){var n;s&&null!==(n=e.disallowSnapping)&&void 0!==n&&n&&d({x:t.XHover,y:t.YHover[r.AxisMap.get(e.axis)]})}),[t.XHover,t.YHover,e.axis]),i.useEffect((function(){var t=document.getElementById(e.childId);if(null==t)return a.error("Invalid element id passed for child element in infobox ".concat(e.childId)),void p({width:100,height:100});m.width===Math.ceil(t.clientWidth)&&m.height===Math.ceil(t.clientHeight)||p({width:Math.ceil(t.clientWidth),height:Math.ceil(t.clientHeight)})}),[e.children,e.childId]),i.createElement("g",null,i.createElement(l,{x:x(e.x),y:M(e.y),width:m.width,height:m.height,opacity:e.opacity}),i.createElement("foreignObject",{x:x(e.x),y:M(e.y),width:m.width,height:m.height},e.children),void 0===e.setPosition||e.x===f.x&&e.y===f.y?null:i.createElement(l,{x:x(f.x),y:M(f.y),width:m.width,height:m.height,opacity:e.opacity}))}},99723:function(e,t,n){var a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var a,o,i=n.call(e),r=[];try{for(;(void 0===t||t-- >0)&&!(a=i.next()).done;)r.push(a.value)}catch(e){o={error:e}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return r};Object.defineProperty(t,"__esModule",{value:!0});var o=n(6904),i=n(94194),r=n(84998),l=o.memo((function(e){var t,n,l=o.useRef(void 0),c=a(o.useState(o.createElement(o.Fragment,null,i.Point)),2),u=c[0],f=c[1],d=a(o.useState(null!==(t=e.holdOpen)&&void 0!==t&&t),2),h=d[0],m=d[1],p=a(o.useState(void 0),2),v=p[0],g=p[1],y=a(o.useMemo((function(){var t,n=(null!==(t=e.holdOpen)&&void 0!==t&&t?1:0)+(e.showZoom?1:0)+(e.showZoom||e.showHorizontalZoom?1:0)+(e.showZoom||e.showVerticalZoom?1:0)+(e.showPan?1:0)+(e.showReset?1:0)+(e.showSelect?1:0)+(e.showDownload?1:0)+(e.showCapture?1:0)+(null==e.children?0:o.Children.count(e.children)),a=Math.floor((e.heightAvaliable-20)/25),i=20*Math.ceil(n/a);return[n=Math.min(n,a),25*(n-1),i]}),[e.holdOpen,e.showZoom,e.showPan,e.showReset,e.showSelect,e.showDownload,e.showCapture,e.children]),3),x=y[0],M=y[1],S=y[2],b=o.useCallback((function(t,n){f(t),g(n),e.setSelection("select"),T()}),[e.setSelection]),E=o.useCallback((function(e){e.stopPropagation(),m(!0)}),[m]),T=o.useCallback((function(){var t;null!==(t=e.holdOpen)&&void 0!==t&&t||m(!1)}),[e.holdOpen]),w=o.useMemo((function(){switch(e.currentSelection){default:case"pan":return i.Pan;case"zoom-rectangular":return i.MagnifyingGlass;case"zoom-vertical":return"‖";case"zoom-horizontal":return"═";case"select":return u}}),[u,e.currentSelection]);if(o.useEffect((function(){h?e.setWidth(S):e.setWidth(20)}),[S,h]),0===x)return null;if(1===x||!h)return o.createElement("g",null,o.createElement("circle",{stroke:"black",onClick:E,r:10,cx:e.x,cy:e.y,style:{fill:"#002eff",pointerEvents:"all"},onMouseDown:function(e){return e.stopPropagation()},onMouseUp:function(e){return e.stopPropagation()}}),o.createElement("text",{fill:"black",style:{fontSize:"1em",textAnchor:"middle",dominantBaseline:"middle"},x:e.x,y:e.y},w));var D=[[]],C=[[]];null!==(n=e.holdOpen)&&void 0!==n&&n&&(D[D.length-1].length<x?(D[D.length-1].push(o.createElement(r.default,{onClick:function(){return m(!1)}},"^")),C[D.length-1].push("collaspe")):(D.push([o.createElement(r.default,{onClick:function(){return m(!1)}},"^")]),C.push(["collaspe"]))),e.showZoom&&(D[D.length-1].length<x?(C[C.length-1].push("zoom-rectangular"),D[D.length-1].push(o.createElement(r.default,{onClick:function(){e.setSelection("zoom-rectangular"),T()}},i.MagnifyingGlass))):(C.push(["zoom-rectangular"]),D.push([o.createElement(r.default,{onClick:function(){e.setSelection("zoom-rectangular"),T()}},i.MagnifyingGlass)]))),(e.showZoom||e.showVerticalZoom)&&(D[D.length-1].length<x?(C[C.length-1].push("zoom-vertical"),D[D.length-1].push(o.createElement(r.default,{onClick:function(){e.setSelection("zoom-vertical"),T()}},"‖"))):(C.push(["zoom-vertical"]),D.push([o.createElement(r.default,{onClick:function(){e.setSelection("zoom-vertical"),T()}},"‖")]))),(e.showZoom||e.showHorizontalZoom)&&(D[D.length-1].length<x?(C[C.length-1].push("zoom-horizontal"),D[D.length-1].push(o.createElement(r.default,{onClick:function(){e.setSelection("zoom-horizontal"),T()}},"═"))):(C.push(["zoom-horizontal"]),D.push([o.createElement(r.default,{onClick:function(){e.setSelection("zoom-horizontal"),T()}},"═")]))),e.showPan&&D[D.length-1].length<x?(C[D.length-1].push("pan"),D[D.length-1].push(o.createElement(r.default,{onClick:function(){e.setSelection("pan"),T()}},i.Pan))):e.showPan&&(C.push(["pan"]),D.push([o.createElement(r.default,{onClick:function(){e.setSelection("pan"),T()}},i.Pan)])),e.showSelect&&D[D.length-1].length<x?(C[D.length-1].push("select"),D[D.length-1].push(o.createElement(r.default,{isSelect:!0,onClick:function(){b(o.createElement(o.Fragment,null,i.Point),"select")}},i.Point))):e.showSelect&&(C.push(["select"]),D.push([o.createElement(r.default,{isSelect:!0,onClick:function(){b(o.createElement(o.Fragment,null,i.Point),"select")}},i.Point)])),e.showReset&&D[D.length-1].length<x?(C[D.length-1].push("reset"),D[D.length-1].push(o.createElement(r.default,{onClick:function(){T(),e.setSelection("reset")}},i.House))):e.showReset&&(C.push(["reset"]),D.push([o.createElement(r.default,{onClick:function(){T(),e.setSelection("reset")}},i.House)])),e.showDownload&&D[D.length-1].length<x?(C[D.length-1].push("download"),D[D.length-1].push(o.createElement(r.default,{onClick:function(){T(),e.setSelection("download")}},i.InputNumbers))):e.showDownload&&(C.push(["download"]),D.push([o.createElement(r.default,{onClick:function(){T(),e.setSelection("download")}},i.InputNumbers)])),e.showCapture&&D[D.length-1].length<x?(C[D.length-1].push("capture"),D[D.length-1].push(o.createElement(r.default,{onClick:function(){T(),e.setSelection("capture")}},i.Scroll))):e.showCapture&&(C.push(["capture"]),D.push([o.createElement(r.default,{onClick:function(){T(),e.setSelection("capture")}},i.Scroll)]));var P=D.length-1;o.Children.forEach(e.children,(function(e,t){D[D.length-1].length<x&&o.isValidElement(e)&&e.type===r.default?(D[D.length-1].push(e),C[D.length-1].push("custom-"+t)):o.isValidElement(e)&&e.type===r.default&&(D.push([e]),C.push(["custom-"+t]))}));var k="M ".concat(e.x-10," ").concat(e.y," A 10 10 90 0 1 ").concat(e.x," ").concat(e.y-10," h ").concat(S-20," A 10 10 90 0 1 ").concat(e.x+S-10," ").concat(e.y," v ").concat(M," A 10 10 90 0 1 ").concat(e.x+S-20," ").concat(e.y+M+10," h ").concat(20-S," A 10 10 90 0 1 ").concat(e.x-10," ").concat(e.y+M," v ").concat(-M);return o.createElement("g",{style:{cursor:"default"},"data-html2canvas-ignore":"true"},o.createElement("path",{d:k,style:{fill:"#1e90ff"}}),D.map((function(t,n){return o.createElement(o.Fragment,null," ",t.map((function(t,a){return o.createElement(s,{key:a,selectId:C[n][a],x:e.x+20*n,y:e.y+25*a,active:a<P?e.currentSelection===C[n][a]&&("select"!==e.currentSelection||void 0===v):"select"===e.currentSelection&&v===C[n][a],button:t,btnCleanup:l,setSelectIcon:C[n][a].startsWith("custom")?b:void 0})})))})),o.createElement("path",{d:k,stroke:"black"}))}));function s(e){return o.createElement(o.Fragment,null,o.createElement("circle",{r:10,cx:e.x,cy:e.y,style:{fill:e.active?"#002eff":"#1e90ff",pointerEvents:"all"},onMouseDown:function(e){return e.stopPropagation()},onClick:function(t){var n;t.stopPropagation(),void 0!==e.setSelectIcon&&null!==(n=e.button.props.isSelect)&&void 0!==n&&n&&e.setSelectIcon(e.button.props.children,e.selectId),void 0!==e.btnCleanup.current&&e.btnCleanup.current(),e.btnCleanup.current=e.button.props.onClick()},onMouseUp:function(e){return e.stopPropagation()}}),o.createElement("text",{fill:"black",style:{fontSize:"1em",textAnchor:"middle",dominantBaseline:"middle"},x:e.x,y:e.y},e.button))}t.default=l},52007:function(e,t,n){var a=n(78),o=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var a,o,i=n.call(e),r=[];try{for(;(void 0===t||t-- >0)&&!(a=i.next()).done;)r.push(a.value)}catch(e){o={error:e}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return r},i=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var a,o=0,i=t.length;o<i;o++)!a&&o in t||(a||(a=Array.prototype.slice.call(t,0,o)),a[o]=t[o]);return e.concat(a||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.fontFamily=void 0;var r=n(6904),l=n(51935),s=n(84917),c=n(74016),u=n(24334),f=n(2925),d=n(74929);t.fontFamily="Courier New";var h=25,m="margin: auto auto auto 0px; display: inline-block; font-weight: 400; font-family: ".concat(t.fontFamily,";");t.default=r.memo((function(e){var n=r.useContext(s.GraphContext),p=r.useRef((function(e){})),v=o(r.useMemo((function(){var t=i([],o(n.Data.current.values()),!1).reduce((function(t,n){var o,i,r,l,s;return void 0===n.legend||e.HideDisabled&&null!==(r=null===(i=null===(o=n.legend)||void 0===o?void 0:o.props)||void 0===i?void 0:i.enabled)&&void 0!==r&&!r||((null===(l=n.legend)||void 0===l?void 0:l.type)===f.default?t.sm=t.sm+1:(null===(s=n.legend)||void 0===s?void 0:s.type)===d.default?t.lg=t.lg+1:(t.sm=t.sm+1,a.warn("Unknown legend element found. Please check legend component or children to legend."))),t}),{sm:0,lg:0});return[t.sm,t.lg]}),[n.DataGuid,e.HideDisabled]),2),g=v[0],y=v[1],x="bottom"===e.location?39:0,M="bottom"===e.location?e.graphWidth:e.width,S="right"===e.location?e.graphHeight:e.height,b="bottom"===e.location?25:Math.max(S/Math.max(g+y,1),25),E=b*("bottom"===e.location?2:1),T=Math.ceil(g/("bottom"===e.location?3:1))*b+y*E,w=T>S?(0,u.GetScrollbarWidth)():0,D=(M-x)/("bottom"===e.location?3:1)-w,C=M-x-w,P=o(r.useMemo((function(){var a,r,s=1,c=!1,p=0,v=0,g=i([],o(n.Data.current.values()),!1).map((function(e){return null==e?void 0:e.legend})),y=l.orderBy(g.filter((function(t){var n,a;return(!e.HideDisabled||null!==(a=null===(n=null==t?void 0:t.props)||void 0===n?void 0:n.enabled)&&void 0!==a&&a)&&(null==t?void 0:t.type)===f.default})),(function(e){var t,n,a;return null!==(a=null===(n=null===(t=null==e?void 0:e.props)||void 0===t?void 0:t.label)||void 0===n?void 0:n.length)&&void 0!==a?a:0}),["desc"]);y.length>0&&function(e){var n=1,a=(0,u.GetTextHeight)(t.fontFamily,"".concat(n,"em"),e,"".concat(m),"".concat(D-h,"px")),o=(0,u.GetTextWidth)(t.fontFamily,"".concat(n,"em"),e,"".concat(m),"".concat(a,"px"));o>v&&(v=o);for(var i=!1;n>.4&&(o>D-h||a>b);)n-=.05,o=(0,u.GetTextWidth)(t.fontFamily,"".concat(n,"em"),e,"".concat(m),"".concat(b,"px"),"".concat(i?"normal":void 0),"".concat(D-h,"px")),a=(0,u.GetTextHeight)(t.fontFamily,"".concat(n,"em"),e,"".concat(m),"".concat(D-h,"px"),"".concat(i?"normal":void 0)),i=!1,o>=D-h&&a<b&&(i=!0,a=(0,u.GetTextHeight)(t.fontFamily,"".concat(n,"em"),e,"".concat(m),"".concat(D-h,"px"),"".concat(i?"normal":void 0)),o=(0,u.GetTextWidth)(t.fontFamily,"".concat(n,"em"),e,"".concat(m),"".concat(b,"px"),"".concat(i?"normal":void 0),"".concat(D-h,"px")));n<s&&(s=n,c=i)}(null===(r=null===(a=y[0])||void 0===a?void 0:a.props)||void 0===r?void 0:r.label);var M=g.findIndex((function(t){var n,a;return e.HideDisabled&&!(null!==(a=null===(n=null==t?void 0:t.props)||void 0===n?void 0:n.enabled)&&void 0!==a&&a)&&(null==t?void 0:t.type)===d.default}));M>=0&&50>p&&(p=50),M>=0&&50>p&&(p=50);var S=(v+w)*("bottom"===e.location?3:1)+x,E=p+x+w;return[s,c,Math.max(S,E)]}),[n.DataGuid,e.HideDisabled,C,D,b,E,x,e.location,w]),3),k=P[0],A=P[1],Y=P[2],N=r.useMemo((function(){return{SmWidth:D,LgWidth:C,SmHeight:b,LgHeight:E,SmallestFontSize:k,UseMultiLine:A,SendMassEnable:p}}),[k,b,E,D,b,A]);return r.useEffect((function(){void 0!==e.RequestLegendHeight&&T!==S&&e.RequestLegendHeight(T)}),[T,S]),r.useEffect((function(){void 0!==e.RequestLegendWidth&&Y!==M&&e.RequestLegendWidth(Y)}),[Y,M]),r.useEffect((function(){p.current=function(t){var a=i([],o(n.Data.current.values()),!1).some((function(e){var n,a,o,i;return(null===(a=null===(n=null==e?void 0:e.legend)||void 0===n?void 0:n.props)||void 0===a?void 0:a.enabled)&&(null===(i=null===(o=null==e?void 0:e.legend)||void 0===o?void 0:o.props)||void 0===i?void 0:i.id)!==t}));e.SendMassCommand({requester:t,command:a?"disable-others":"enable-all"})}}),[n.DataGuid,e.SendMassCommand]),r.createElement(c.LegendContext.Provider,{value:N},r.createElement("div",{style:{height:S,width:M,paddingLeft:"".concat(x,"px"),position:"bottom"===e.location?"absolute":"relative",float:e.location,display:"flex",flexWrap:"wrap",bottom:0,overflowY:T>S?"scroll":"hidden",overflowX:T>S?"visible":"hidden",cursor:"default"}},i([],o(n.Data.current.values()),!1).map((function(t,n){var a,o;return void 0===t.legend||e.HideDisabled&&null!==(a=t.legend.props.enabled)&&void 0!==a&&!a?null:r.createElement("div",{key:n,"data-html2canvas-ignore":!(null===(o=t.legend.props.enabled)||void 0===o||o)},t.legend)}))))}))},74016:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.LegendContext=void 0;var a=n(6904);t.LegendContext=a.createContext({SmWidth:0,LgWidth:0,SmHeight:0,LgHeight:0,SmallestFontSize:0,UseMultiLine:!1,SendMassEnable:void 0})},84512:function(e,t,n){var a=this&&this.__assign||function(){return a=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},a.apply(this,arguments)},o=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var a,o,i=n.call(e),r=[];try{for(;(void 0===t||t-- >0)&&!(a=i.next()).done;)r.push(a.value)}catch(e){o={error:e}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return r};Object.defineProperty(t,"__esModule",{value:!0}),t.InternalLine=void 0;var i=n(6904),r=n(84917),l=n(32098),s=n(70894),c=n(2925);t.InternalLine=i.forwardRef((function(e,t){var n,a,u=o(i.useState(""),2),f=u[0],d=u[1],h=o(i.useState([NaN,NaN]),2),m=h[0],p=h[1],v=o(i.useState(!0),2),g=v[0],y=v[1],x=o(i.useState(null),2),M=x[0],S=x[1],b=i.useContext(r.GraphContext),E=i.useMemo((function(){var t,n,a;return null!==(t=e.showPoints)&&void 0!==t&&t||(null===(n=e.autoShowPoints)||void 0===n||n)&&(null!==(a=null==M?void 0:M.GetCount(b.XDomain[0],b.XDomain[1]))&&void 0!==a?a:1e3)<=100}),[e.showPoints,e.autoShowPoints,M,b.XDomain]),T=null!==(n=null==M?void 0:M.GetData(b.XDomain[0],b.XDomain[1],!0))&&void 0!==n?n:[];i.useImperativeHandle(t,(function(){return M}),[M]);var w=i.useCallback((function(){var t;if(void 0!==e.legend&&""!==f){var n=e.legend;return null===(t=e.highlightHover)||void 0===t||!t||isNaN(m[0])||isNaN(m[1])||(n+=" (".concat(l.utc(m[0]).format("MM/DD/YY hh:mm:ss"),": ").concat(m[1].toPrecision(6),")")),i.createElement(c.default,{id:f,label:n,color:e.color,lineStyle:e.lineStyle,setEnabled:y,enabled:g,hasNoData:null==M})}}),[e.color,e.lineStyle,g,M,e.legend,f]),D=i.useCallback((function(){return{legend:w(),axis:e.axis,enabled:g,getMax:function(e){return null!=M&&g?M.GetLimits(e[0],e[1])[1]:-1/0},getMin:function(e){return null!=M&&g?M.GetLimits(e[0],e[1])[0]:1/0},getPoints:function(e,t){return null!=M&&g?M.GetPoints(e,null!=t?t:1):NaN}}}),[e.axis,g,M,w,e.reRender]);i.useEffect((function(){""!==f&&b.UpdateData(f,D())}),[D]),i.useEffect((function(){if(null==M||null==e.data||0===e.data.length||isNaN(b.XHover))p([NaN,NaN]);else try{var t=M.GetPoint(b.XHover);null!=t&&p(t)}catch(e){p([NaN,NaN])}}),[M,b.XHover]),i.useEffect((function(){"enable-all"===b.MassEnableCommand.command?y(!0):"disable-others"===b.MassEnableCommand.command&&y(f===b.MassEnableCommand.requester)}),[b.MassEnableCommand]),i.useEffect((function(){null==e.data?S(null):S(new s.PointNode(e.data))}),[e.data]),i.useEffect((function(){""!==f&&b.SetLegend(f,w())}),[m,g]),i.useEffect((function(){var e=b.AddData(D());return d(e),function(){b.RemoveData(e)}}),[]);var C=i.useCallback((function(t){return 0===t.length?"":"M "+t.map((function(t,n){var a=b.XTransformation(t[0]),o=b.YTransformation(t[1],r.AxisMap.get(e.axis));return"".concat(a,",").concat(o)})).join(" L ")}),[b.XTransformation,b.YTransformation,e.axis]);return g?i.createElement("g",null,i.createElement("path",{d:C(T),style:{fill:"none",strokeWidth:void 0===e.width?3:e.width,stroke:e.color},strokeDasharray:r.LineMap.get(e.lineStyle)}),E&&null!=M?T.map((function(t,n){return i.createElement("circle",{key:n,r:3,cx:b.XTransformation(t[0]),cy:b.YTransformation(t[1],r.AxisMap.get(e.axis)),fill:e.color,stroke:"currentColor",style:{opacity:.8}})})):null,null===(a=e.highlightHover)||void 0===a||!a||isNaN(m[0])||isNaN(m[1])?null:i.createElement("circle",{r:5,cx:b.XTransformation(m[0]),cy:b.YTransformation(m[1],r.AxisMap.get(e.axis)),fill:e.color,stroke:"currentColor",style:{opacity:.8}})):null})),t.default=function(e){return i.createElement(t.InternalLine,a({},e))}},2925:function(e,t,n){var a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var a,o,i=n.call(e),r=[];try{for(;(void 0===t||t-- >0)&&!(a=i.next()).done;)r.push(a.value)}catch(e){o={error:e}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return r};Object.defineProperty(t,"__esModule",{value:!0});var o=n(6904),i=n(94194),r=n(74016),l=n(52007);t.default=function(e){var t,n=o.useRef(null),s=a(o.useState(null!==(t=e.label)&&void 0!==t?t:""),2),c=s[0],u=s[1],f=o.useContext(r.LegendContext);return o.useEffect((function(){u((e.hasNoData?i.Warning:"")+e.label)}),[e.hasNoData,e.label]),o.createElement("div",{style:{height:f.SmHeight,width:f.SmWidth},ref:n},o.createElement("div",{onClick:function(t){t.ctrlKey&&null!=f.SendMassEnable?f.SendMassEnable.current(e.id):e.setEnabled(!e.enabled)},style:{width:"100%",display:"flex",alignItems:"center",marginRight:"5px",height:"100%"}},"-"===e.lineStyle?o.createElement("div",{style:{width:"10px",height:0,borderTop:"2px solid ".concat(e.color),borderRight:"10px solid ".concat(e.color),borderBottom:"2px solid ".concat(e.color),borderLeft:"10px solid ".concat(e.color),overflow:"hidden",marginRight:"5px",opacity:e.enabled?1:.5}}):o.createElement("div",{style:{width:"10px",height:"4px",borderTop:"none",borderRight:"3px solid ".concat(e.color),borderBottom:"none",borderLeft:"3px solid ".concat(e.color),overflow:"hidden",marginRight:"5px",opacity:e.enabled?1:.5}}),o.createElement("label",{style:{fontFamily:l.fontFamily,fontWeight:400,display:"inline-block",margin:"auto",marginLeft:0,fontSize:f.SmallestFontSize+"em",whiteSpace:f.UseMultiLine?"normal":"nowrap"}},c)))}},28201:function(e,t,n){var a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var a,o,i=n.call(e),r=[];try{for(;(void 0===t||t-- >0)&&!(a=i.next()).done;)r.push(a.value)}catch(e){o={error:e}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return r},o=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var a,o=0,i=t.length;o<i;o++)!a&&o in t||(a||(a=Array.prototype.slice.call(t,0,o)),a[o]=t[o]);return e.concat(a||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0});var i=n(6904),r=n(84917),l=n(32098),s=n(70894),c=n(24334),u=n(2925);t.default=function(e){var t,n,f=a(i.useState(""),2),d=f[0],h=f[1],m=a(i.useState([NaN,NaN]),2),p=m[0],v=m[1],g=a(i.useState(!0),2),y=g[0],x=g[1],M=a(i.useState(0),2),S=M[0],b=M[1],E=a(i.useState(null),2),T=E[0],w=E[1],D=a(i.useState([NaN,NaN]),2),C=D[0],P=D[1],k=i.useContext(r.GraphContext);function A(){var t;if(void 0!==e.legend&&""!==d){var n=e.legend;return null===(t=e.highlightHover)||void 0===t||!t||isNaN(p[0])||isNaN(p[1])||(n+=" (".concat(l.utc(p[0]).format("MM/DD/YY hh:mm:ss"),": ").concat(p[1].toPrecision(6),")")),i.createElement(u.default,{id:d,label:n,color:e.color,lineStyle:e.lineStyle,setEnabled:x,enabled:y,hasNoData:null==T})}}return i.useEffect((function(){""!==d&&k.UpdateData(d,{legend:A(),getMax:function(e){return null!=T&&y?Math.max(T.GetLimits(e[0],e[1])[1],C[1]):-1/0},getMin:function(e){return null!=T&&y?Math.min(T.GetLimits(e[0],e[1])[0],C[0]):1/0}})}),[e,T,y]),i.useEffect((function(){if(0===e.data.length||isNaN(k.XHover)||null===T)v([NaN,NaN]);else{var t=T.GetPoint(k.XHover);null!=t&&v(t)}}),[T,k.XHover]),i.useEffect((function(){"enable-all"===k.MassEnableCommand.command?x(!0):"disable-others"===k.MassEnableCommand.command&&x(d===k.MassEnableCommand.requester)}),[k.MassEnableCommand]),i.useEffect((function(){w(new s.PointNode(e.data))}),[e.data]),i.useEffect((function(){""!==d&&k.SetLegend(d,A())}),[p,y,S]),i.useEffect((function(){if(void 0!==e.legend)if(void 0!==e.highlightHover){var t=e.legend+" (".concat(l().format("MM/DD/YY hh:mm:ss"),": ").concat((-99.999999).toPrecision(8),")");b((0,c.GetTextWidth)("Segoe UI","1em",t)+45)}else b((0,c.GetTextWidth)("Segoe UI","1em",e.legend)+45)}),[e.legend,e.highlightHover]),i.useEffect((function(){return h(k.AddData({legend:A(),getMax:function(e){return null!=T&&y?Math.max(T.GetLimits(e[0],e[1])[1],C[1]):-1/0},getMin:function(e){return null!=T&&y?Math.min(T.GetLimits(e[0],e[1])[0],C[0]):1/0}})),function(){k.RemoveData(d)}}),[]),i.useEffect((function(){P([Math.min.apply(Math,o([],a(e.threshHolds.map((function(e){return e.Value}))),!1)),Math.max.apply(Math,o([],a(e.threshHolds.map((function(e){return e.Value}))),!1))])}),[e.threshHolds]),y?i.createElement("g",null,i.createElement("path",{d:(n="M ",null==T?"":n+=T.GetFullData().map((function(t,n){var a=k.XTransformation(t[0]),o=k.YTransformation(t[1],r.AxisMap.get(e.axis));return"".concat(a,",").concat(o)})).join(" L ")),style:{fill:"none",strokeWidth:3,stroke:e.color,transition:"d 0.5s"},strokeDasharray:r.LineMap.get(e.lineStyle)}),null!=T?T.GetFullData().map((function(t,n){return i.createElement("circle",{key:n,r:3,cx:k.XTransformation(t[0]),cy:k.YTransformation(t[1],r.AxisMap.get(e.axis)),fill:e.color,stroke:"black",style:{opacity:.8,transition:"cx 0.5s,cy 0.5s"}})})):null,null===(t=e.highlightHover)||void 0===t||!t||isNaN(p[0])||isNaN(p[1])?null:i.createElement("circle",{r:5,cx:k.XTransformation(p[0]),cy:k.YTransformation(p[1],r.AxisMap.get(e.axis)),fill:e.color,stroke:"black",style:{opacity:.8,transition:"cx 0.5s,cy 0.5s"}}),e.threshHolds.map((function(t,n){return i.createElement("path",{key:n,d:"M ".concat(k.XTransformation(k.XDomain[0]),",").concat(k.YTransformation(t.Value,r.AxisMap.get(e.axis))," H ").concat(k.XTransformation(k.XDomain[1])),style:{fill:"none",strokeWidth:3,stroke:t.Color,transition:"d 0.5s"},strokeDasharray:"10,5"})}))):null}},14395:function(e,t,n){var a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var a,o,i=n.call(e),r=[];try{for(;(void 0===t||t-- >0)&&!(a=i.next()).done;)r.push(a.value)}catch(e){o={error:e}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return r},o=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var a,o=0,i=t.length;o<i;o++)!a&&o in t||(a||(a=Array.prototype.slice.call(t,0,o)),a[o]=t[o]);return e.concat(a||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0});var i=n(6904),r=n(84917),l=n(24334);t.default=i.memo((function(e){var t,n,s,c,u=i.useContext(r.GraphContext),f=a(i.useState([]),2),d=f[0],h=f[1],m=a(i.useState(0),2),p=m[0],v=m[1],g=a(i.useState(0),2),y=g[0],x=g[1],M=a(i.useState(0),2),S=M[0],b=M[1],E=a(i.useState(0),2),T=E[0],w=E[1],D=a(i.useState(0),2),C=D[0],P=D[1];return i.useEffect((function(){u.XDomain[0]<=0&&(u.XDomain[0]=Math.pow(10,Math.floor(-1*Math.log10(Math.abs(u.XDomain[0]))))),u.XDomain[1]<=0&&(u.XDomain[1]=Math.pow(10,-1*Math.ceil(Math.log10(Math.abs(u.XDomain[1])))+1));var e=Math.ceil(Math.max(Math.log10(u.XDomain[0]),Math.log10(u.XDomain[1]))),t=Math.floor(Math.min(Math.log10(u.XDomain[0]),Math.log10(u.XDomain[1])));b(e-t),P(t)}),[u.XDomain]),i.useEffect((function(){var e=setTimeout((function(){w(S<3?S/2*.25:S>=3&&S<6?.5:Math.floor(S/4))}),500);return function(){clearTimeout(e)}}),[S]),i.useEffect((function(){var t=void 0!==e.label?(0,l.GetTextHeight)("Segoe UI","1em",e.label):0;v(t)}),[d,e.label]),i.useEffect((function(){var e=Math.max.apply(Math,o([],a(d.map((function(e){return(0,l.GetTextHeight)("Segoe UI","1em",e.toString())}))),!1));e=(isFinite(e)?e:0)+12,x(e)}),[d]),i.useEffect((function(){y+p!==e.heightAxis&&e.setHeight(y+p)}),[y,p,e.heightAxis,e.setHeight]),i.useEffect((function(){var e;if(0===S||0===T)e=u.XDomain[0]<0?[Math.pow(10,Math.floor(-1*Math.log10(Math.abs(u.XDomain[0])))),Math.pow(10,Math.abs(Math.ceil(Math.log10(u.XDomain[1]))))]:[Math.pow(10,Math.log10(u.XDomain[0]))];else{if(e=[Math.pow(10,C)],S>=3)for(var t=C+T;t<=Math.log10(u.XDomain[1])+T;t+=T)if(!Number.isInteger(t)&&t>1&&S>3){var n=Math.floor(Math.pow(10,t)/Math.pow(10,Math.ceil(t)))*Math.pow(10,Math.ceil(t)),a=Math.ceil(Math.pow(10,t)/Math.pow(10,Math.floor(t)))*Math.pow(10,Math.floor(t));Math.abs(a-Math.pow(10,t))<Math.abs(n-Math.pow(10,t))?e.push(a):e.push(n)}else e.push(Math.pow(10,t));if((e=e.filter((function(e){return e>=u.XDomain[0]&&e<=u.XDomain[1]}))).length<3){var o=.5*(Math.log10(u.XDomain[0])+Math.log10(u.XDomain[1]));e=[u.XDomain[0],Math.pow(10,o),u.XDomain[1]]}}h(e.map((function(e){return Math.max(e,u.XDomain[0])})))}),[u.XDomain,S,T]),i.createElement("g",null,i.createElement("path",{stroke:"black",style:{strokeWidth:1},d:"M ".concat(e.offsetLeft-(null===(t=e.showLeftMostTick)||void 0===t||t?0:8)," ").concat(e.height-e.offsetBottom," H ").concat(e.width-e.offsetRight+(null===(n=e.showRightMostTick)||void 0===n||n?0:8))}),null===(s=e.showLeftMostTick)||void 0===s||s?i.createElement("path",{stroke:"black",style:{strokeWidth:1},d:"M ".concat(e.offsetLeft," ").concat(e.height-e.offsetBottom," v ").concat(8)}):null,null===(c=e.showRightMostTick)||void 0===c||c?i.createElement("path",{stroke:"black",style:{strokeWidth:1},d:"M ".concat(e.width-e.offsetRight," ").concat(e.height-e.offsetBottom," v ").concat(8)}):null,void 0===e.showTicks||e.showTicks?i.createElement(i.Fragment,null,d.map((function(t,n){var a;return i.createElement("path",{key:t.toFixed(50),stroke:"lightgrey",strokeOpacity:null!==(a=e.showGrid)&&void 0!==a&&a?"0.8":"0.0",style:{strokeWidth:1,transition:"d 0.5s"},d:"M ".concat(u.XTransformation(t)," ").concat(e.height-e.offsetBottom," V ").concat(e.offsetTop)})})),d.map((function(t,n){return i.createElement("path",{key:t.toFixed(50),stroke:"black",style:{strokeWidth:1,transition:"d 0.5s"},d:"M ".concat(u.XTransformation(t)," ").concat(e.height-e.offsetBottom+6," v ").concat(-6)})})),d.map((function(t,n){return i.createElement("text",{fill:"black",key:t.toFixed(50),style:{fontSize:"1em",textAnchor:"middle",dominantBaseline:"hanging",transition:"x 0.5s, y 0.5s"},y:e.height-e.offsetBottom+8,x:u.XTransformation(t)},t.toFixed((a=t)>=1?0:Math.floor(Math.abs(-Math.log10(a)))>100?100:Math.abs(Math.floor(Math.log10(a)))));var a}))):null,void 0!==e.label?i.createElement("text",{fill:"black",style:{fontSize:"1em",textAnchor:"middle",dominantBaseline:"middle"},x:e.offsetLeft+(e.width-e.offsetLeft-e.offsetRight)/2,y:e.height-e.offsetBottom+y},e.label):null)}))},71681:function(e,t,n){var a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var a,o,i=n.call(e),r=[];try{for(;(void 0===t||t-- >0)&&!(a=i.next()).done;)r.push(a.value)}catch(e){o={error:e}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return r};Object.defineProperty(t,"__esModule",{value:!0});var o=n(24334),i=n(6904),r=n(84917);t.default=function(e){var t,n=i.useContext(r.GraphContext),l=a(i.useState(""),2),s=l[0],c=l[1],u=a(i.useState(1),2),f=u[0],d=u[1],h=i.useMemo((function(){var t=r.AxisMap.get(e.Axis),a=n.YTransformation(e.YData[0],t),o=n.YTransformation(e.YData[1],t);return Math.abs(o-a)}),[n.YTransformation,e.YData,e.Axis,n.UpdateFlag]),m=i.useMemo((function(){return Math.abs(n.XTransformation(e.XData[1])-n.XTransformation(e.XData[0]))}),[n.XTransformation,e.XData,n.UpdateFlag]),p=i.useMemo((function(){return Math.min(h/2,m/2,e.RadiusPX)}),[h,m,e.RadiusPX]),v=i.useCallback((function(t){var n=a(t,2),o=n[0],i=n[1],r=a(e.XData,2),l=r[0],s=r[1];if(i>=l&&o<=s)return Math.max(e.YData[0],e.YData[1])}),[e.XData,e.YData]),g=i.useCallback((function(t){var n=a(t,2),o=n[0],i=n[1],r=a(e.XData,2),l=r[0],s=r[1];if(i>=l&&o<=s)return Math.min(e.YData[0],e.YData[1])}),[e.XData,e.YData]);i.useEffect((function(){""!==s&&n.UpdateData(s,{axis:e.Axis,legend:void 0,getMax:v,getMin:g})}),[e.Axis,v,g,s]),i.useEffect((function(){var t=n.AddData({axis:e.Axis,legend:void 0,getMax:v,getMin:g});return c(t),function(){n.RemoveData(t)}}),[]),i.useEffect((function(){if(void 0!==e.Text){for(var t,n="Segoe UI",a=.05,i=5,r=a;i-a>.01;){var l=(i+a)/2,s=(t=l,{dX:(0,o.GetTextWidth)(n,t+"em",e.Text),dY:(0,o.GetTextHeight)(n,t+"em",e.Text)});s.dX<=m&&s.dY<=h?(r=l,a=l):i=l}d(r)}}),[e.Text,h,m,n.UpdateFlag]),i.useEffect((function(){""!==s&&void 0!==e.OnClick&&n.UpdateSelect(s,{onClick:y})}),[e.OnClick,n.UpdateFlag]);var y=i.useCallback((function(t,o){if(void 0!==e.OnClick){var i=a(e.XData,2),r=i[0],l=i[1],s=a(e.YData,2),c=s[0],u=s[1];t>=r&&t<=l&&o>=c&&o<=u&&e.OnClick(t,o,{setYDomain:n.SetYDomain,setTDomain:n.SetXDomain})}}),[e.OnClick,e.Axis,e.XData,e.YData,n.XTransformation,n.YTransformation,n.SetXDomain,n.SetYDomain]),x=i.useMemo((function(){var t=n.XTransformation(e.XData[0]),a=n.XTransformation(e.XData[1]),o=(t+a)/2;return null==e.TextPlacement||"center"===e.TextPlacement?o:"left"===e.TextPlacement?t:"right"===e.TextPlacement?a:o}),[n.XTransformation,e.XData,e.TextPlacement,n.UpdateFlag]);return isFinite(n.XTransformation((e.XData[0]+e.XData[1])/2))&&isFinite(n.YTransformation(e.YData[0],r.AxisMap.get(e.Axis)))&&isFinite(n.YTransformation(e.YData[1],r.AxisMap.get(e.Axis)))?i.createElement("g",null,i.createElement("rect",{x:n.XTransformation(e.XData[0]),width:m,y:n.YTransformation(e.YData[1],r.AxisMap.get(e.Axis)),height:h,rx:p,ry:p,fill:e.Color,opacity:e.Opacity,stroke:e.BorderColor,strokeWidth:e.BorderThickness,onClick:function(e){return y(e.clientX,e.clientY)}}),void 0!==e.Text?i.createElement("g",{clipPath:"url(#oval-clip-".concat(s,")")},i.createElement("text",{fill:null!==(t=e.TextColor)&&void 0!==t?t:"currentColor",style:{fontSize:f+"em",textAnchor:"middle",dominantBaseline:"middle"},y:(n.YTransformation(e.YData[0],r.AxisMap.get(e.Axis))+n.YTransformation(e.YData[1],r.AxisMap.get(e.Axis)))/2,x},e.Text)):null):null}},81377:function(e,t,n){var a=n(78),o=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var a,o,i=n.call(e),r=[];try{for(;(void 0===t||t-- >0)&&!(a=i.next()).done;)r.push(a.value)}catch(e){o={error:e}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return r},i=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var a,o=0,i=t.length;o<i;o++)!a&&o in t||(a||(a=Array.prototype.slice.call(t,0,o)),a[o]=t[o]);return e.concat(a||Array.prototype.slice.call(t))},r=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],a=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&a>=e.length&&(e=void 0),{value:e&&e[a++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0});var l=n(6904),s=n(51935),c=n(99723),u=n(84917),f=n(24334),d=n(51935),h=n(79474),m=n(14395),p=n(81823),v=n(52007),g=n(28201),y=n(84512),x=n(84998),M=n(6460),S=n(64462),b=n(57060),E=n(18718),T=n(71681),w=n(93107),D=n(11505),C=n(31594),P=n(22427),k=n(30371),A=n(95978),Y=n(86790),N=n(16463),H=P,X={fill:"none",userSelect:"none",WebkitTouchCallout:"none",WebkitUserSelect:"none",KhtmlUserSelect:"none",MozUserSelect:"none",msUserSelect:"none",pointerEvents:"none"};t.default=function(e){var t,n,P,L,V,I,R,_,F=l.useCallback((function(e,t){if(null!=e)return e instanceof Object&&Object.prototype.hasOwnProperty.call(e,"length")?e[t]:0===t?e:void 0}),[]),G=l.useCallback((function(e){return void 0===e||0===e.length?[[0,1],[0,1]]:"number"==typeof e[0]?[e,[0,1]]:e}),[]),O=l.useRef(null),W=l.useRef(new Map),z=l.useRef({timeout:void 0,stopScroll:!1}),U=l.useRef({timeout:void 0,extraNeeded:0,captureID:void 0}),B=l.useMemo((function(){return(0,f.CreateGuid)()}),[]),j=l.useRef(new Map),q=o(l.useState(""),2),Z=q[0],Q=q[1],$=o(l.useState(e.defaultTdomain),2),K=$[0],J=$[1],ee=o(l.useState(0),2),te=ee[0],ne=ee[1],ae=o(l.useState(1),2),oe=ae[0],ie=ae[1],re=o(l.useState(Array(u.AxisMap.size).fill([0,0])),2),le=re[0],se=re[1],ce=o(l.useState(Array(u.AxisMap.size).fill(0)),2),ue=ce[0],fe=ce[1],de=o(l.useState(Array(u.AxisMap.size).fill(1)),2),he=de[0],me=de[1],pe=o(l.useState(Array(2).fill(0)),2),ve=pe[0],ge=pe[1],ye=o(l.useState("none"),2),xe=ye[0],Me=ye[1],Se=o(l.useState(function(e,t,n,a,o){return null!=e?e:"AutoValue"===t?"zoom-vertical":null==n||n?"zoom-rectangular":null==a||a?"zoom-vertical":null==o||o?"zoom-horizontal":"pan"}(e.defaultMouseMode,e.yDomain,e.zoom,e.xZoom,e.yZoom)),2),be=Se[0],Ee=Se[1],Te=o(l.useState(!1),2),we=Te[0],De=Te[1],Ce=o(l.useState([0,0]),2),Pe=Ce[0],ke=Ce[1],Ae=o(l.useState([0,0]),2),Ye=Ae[0],Ne=Ae[1],He=o(l.useState([0,0]),2),Xe=He[0],Le=He[1],Ve=o(l.useState("default"),2),Ie=Ve[0],Re=Ve[1],_e=l.useRef(!1),Fe=o(l.useState(!1),2),Ge=Fe[0],Oe=Fe[1],We=o(l.useState(10),2),ze=We[0],Ue=We[1],Be=o(l.useState(10),2),je=Be[0],qe=Be[1],Ze=o(l.useState(5),2),Qe=Ze[0],$e=Ze[1],Ke=o(l.useState(5),2),Je=Ke[0],et=Ke[1],tt=o(l.useState(0),2),nt=tt[0],at=tt[1],ot=o(l.useState(0),2),it=ot[0],rt=ot[1],lt=o(l.useState(0),2),st=lt[0],ct=lt[1],ut=o(l.useState(0),2),ft=ut[0],dt=ut[1],ht=o(l.useState(e.defaultTdomain),2),mt=ht[0],pt=ht[1],vt=o(l.useState(G(e.defaultYdomain)),2),gt=vt[0],yt=vt[1],xt=o(l.useState(0),2),Mt=xt[0],St=xt[1],bt=o(l.useState(null!==(t=e.legendHeight)&&void 0!==t?t:50),2),Et=bt[0],Tt=bt[1],wt=o(l.useState(null!==(n=e.legendWidth)&&void 0!==n?n:100),2),Dt=wt[0],Ct=wt[1],Pt=o(l.useState(e.height),2),kt=Pt[0],At=Pt[1],Yt=o(l.useState(e.width),2),Nt=Yt[0],Ht=Yt[1],Xt=o(l.useState(28),2),Lt=Xt[0],Vt=Xt[1],It=o(l.useState({requester:"",command:"none"}),2),Rt=It[0],_t=It[1],Ft=l.useContext(N.default),Gt=l.useMemo((function(){return Ft.HasConsumer?Ft.LegendWidth:Dt}),[Ft.HasConsumer,Dt,Ft.LegendWidth]),Ot="AutoValue"!==e.yDomain&&(null===(P=e.zoom)||void 0===P||P),Wt="AutoValue"!==e.yDomain&&(null===(L=e.zoom)||void 0===L||L||null===(V=e.yZoom)||void 0===V||V),zt=("AutoValue"===e.yDomain||null===(I=e.zoom)||void 0===I||I)&&(null===(R=e.xZoom)||void 0===R||R),Ut=void 0===e.pan||e.pan,Bt=Ut||Ot||Wt||zt;l.useEffect((function(){Ft.HasConsumer&&Ft.RegisterLegendWidth(B,Dt)}),[Dt,Ft.RegisterLegendWidth,Ft.HasConsumer,B]),l.useEffect((function(){if(Ft.HasConsumer)return function(){Ft.UnRegisterLegendWidth(B)}}),[B,Ft.HasConsumer,Ft.UnRegisterLegendWidth]);var jt=l.useCallback((function(e){var t=i([],o(le),!1),n=!1;t.forEach((function(t,a,o){n=e(t,a,o)||n})),n&&se(t)}),[le]);l.useEffect((function(){void 0!==e.legendHeight&&Tt(e.legendHeight)}),[e.legendHeight]),l.useEffect((function(){void 0!==e.legendWidth&&Ct(e.legendWidth)}),[e.legendWidth]),l.useEffect((function(){At(e.height-("bottom"===e.legend?Et:0))}),[e.height,e.legend,Et]),l.useEffect((function(){Ht(e.width-("right"===e.legend?Gt:0))}),[e.width,e.legend,Gt]),l.useEffect((function(){void 0!==e.Tmin&&K[0]<e.Tmin&&J((function(t){var n;return[null!==(n=e.Tmin)&&void 0!==n?n:0,t[1]]})),void 0!==e.Tmax&&K[1]>e.Tmax&&J((function(t){var n;return[t[0],null!==(n=e.Tmax)&&void 0!==n?n:0]}))}),[K]),l.useEffect((function(){jt((function(t,n,a){var o=!1,i=F(e.Ymin,n),r=F(e.Ymax,n);return void 0!==i&&t[0]<i&&(a[n]=[i,t[1]],o=!0),void 0!==r&&t[1]>r&&(a[n]=[t[0],r],o=!0),o}))}),[le]),l.useEffect((function(){(0,d.isEqual)(mt,e.defaultTdomain)||pt(e.defaultTdomain)}),[e.defaultTdomain]),l.useEffect((function(){(0,d.isEqual)(gt,e.defaultYdomain)||yt(G(e.defaultYdomain))}),[e.defaultYdomain]),l.useEffect((function(){J(mt)}),[mt]),l.useEffect((function(){se(gt)}),[gt]),l.useEffect((function(){var e=nt+10,t=it;ze!==e&&Ue(e),je!==t&&qe(t)}),[it,nt]),l.useEffect((function(){var t=st+("left"===e.menuLocation?Lt+2:10);$e(t)}),[st,e.menuLocation,Lt]),l.useEffect((function(){var t=ft+("right"===e.menuLocation||void 0===e.menuLocation?Lt+2:10);et(t)}),[ft,e.menuLocation,Lt]),l.useEffect((function(){if("AutoValue"===e.yDomain||"HalfAutoValue"===e.yDomain){var t=function(e,t,n,a){if(a===u.AxisMap.get(t.axis)){var o=n([Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER]);void 0!==o&&e.push(o)}return e},n=gt.map((function(n,a){var r=Math.min.apply(Math,i([],o(i([],o(j.current.values()),!1).reduce((function(e,n){return t(e,n,n.getMin,a)}),[])),!1)),l=Math.max.apply(Math,i([],o(i([],o(j.current.values()),!1).reduce((function(e,n){return t(e,n,n.getMax,a)}),[])),!1));return!isNaN(r)&&!isNaN(l)&&isFinite(r)&&isFinite(l)?"AutoValue"===e.yDomain?[r,l]:Math.abs(l)>=Math.abs(r)?[0,l]:[r,0]:[0,1]}));s.isEqual(n,gt)||yt(n)}}),[Z,e.yDomain]),l.useEffect((function(){var e=Array(2),t=function(e){return i([],o(j.current.values()),!1).some((function(t){return u.AxisMap.get(e)===u.AxisMap.get(t.axis)}))};e[0]=t("left"),e[1]=t("right"),ge(e)}),[Z]),l.useEffect((function(){var t=K[1]-K[0],n=K[0];if(0!==t){"log"===e.XAxisType&&(t=Math.log10(K[1])-Math.log10(K[0]),n=Math.log10(K[0]));var a=(Nt-Qe-Je)/t;ie(a),ne(Qe-n*a)}}),[K,Qe,Je,e.XAxisType,Nt]),l.useEffect((function(){var e,t,n,a,l,s,c,f=i([],o(he),!1),d=i([],o(ue),!1);try{for(var h=r(u.AxisMap.values()),m=h.next();!m.done;m=h.next())n=f,a=d,l=m.value,s=void 0,c=void 0,s=le[l][1]-le[l][0],c=(kt-ze-je)/(0===s?1e-5:s),n[l]=-c,a[l]=kt-je+le[l][0]*c}catch(t){e={error:t}}finally{try{m&&!m.done&&(t=h.return)&&t.call(h)}finally{if(e)throw e.error}}me(f),fe(d)}),[le,ze,je,kt]),l.useEffect((function(){St((function(e){return e+1}))}),[oe,te,he,ue]),l.useEffect((function(){var t;if(null==e.cursorOverride)switch(be){case"pan":t="grab";break;case"select":t="pointer";break;default:t="crosshair"}else t=e.cursorOverride;Re(t)}),[be,e.cursorOverride]),l.useEffect((function(){var e=function(e){z.current.stopScroll&&e.preventDefault()};return document.body.addEventListener("wheel",e,{passive:!1}),function(){return document.body.removeEventListener("wheel",e)}}),[]),l.useEffect((function(){Ge&&(clearTimeout(U.current.timeout),U.current.timeout=setTimeout((function(){var t,n=null!==(t=U.current.captureID)&&void 0!==t?t:B,o=document.getElementById(n);null==o?a.error("Could not find document element with id ".concat(n)):H(o).then((function(e){document.body.appendChild(e);var t=e.toDataURL("image/png").replace(/^data:image\/png/,"data:application/octet-stream"),a=document.createElement("a");a.href=t,a.download="".concat(n,".png"),document.body.appendChild(a),a.click(),window.URL.revokeObjectURL(t),document.body.removeChild(a),document.body.removeChild(e)})),Oe(!1),void 0!==e.onCaptureComplete&&e.onCaptureComplete()}),50))}));var qt=l.useCallback((function(t){var n,a="bottom"!==e.legend?kt:null!==(n=e.legendHeight)&&void 0!==n?n:50;if(Ge||(U.current.extraNeeded=Math.max(t-a,0)),"bottom"===e.legend){var o=Math.min(t,a);Et!==o&&Tt(o)}}),[e.legendHeight,Et,e.legend,Ge]),Zt=l.useCallback((function(t){var n;if(!(t<0)&&"right"===e.legend){var a=Math.min(t,null!==(n=e.legendWidth)&&void 0!==n?n:100);Dt!==a&&Ct(a)}}),[e.legendWidth,Dt,e.legend]),Qt=l.useCallback((function(t){var n=(t-te)/oe;return"log"===e.XAxisType&&(n=Math.pow(10,(t-te)/oe)),n}),[te,oe,e.XAxisType]),$t=l.useCallback((function(e,t){var n="number"!=typeof t?u.AxisMap.get(t):t;return(e-ue[n])/he[n]}),[ue,he]),Kt=l.useCallback((function(){J(mt),se(gt)}),[gt,mt]),Jt=l.useCallback((function(t){var n=t*oe+te;if("log"===e.XAxisType){var a=0===t?.01*K[0]:t;n=Math.log10(a)*oe+te}return n}),[oe,te,e.XAxisType,K]),en=l.useCallback((function(e,t){var n="number"!=typeof t?u.AxisMap.get(t):t;return e*he[n]+ue[n]}),[he,ue]),tn=l.useCallback((function(e){return e>=0?Math.min(e+Qe,Nt-Je):Math.max(Qe,Nt-Je+e)}),[Qe,Je,Nt]),nn=l.useCallback((function(e){return e>=0?Math.min(e+ze,kt-je):Math.max(ze,kt-je+e)}),[ze,je,kt]),an=l.useCallback((function(e,t){Q((0,f.CreateGuid)()),null!=t?j.current.set(e,t):j.current.delete(e)}),[]),on=l.useCallback((function(e){var t=(0,f.CreateGuid)();return an(t,e),t}),[]),rn=l.useCallback((function(e,t){var n=j.current.get(e);void 0!==n&&(n.legend=t,j.current.set(e,n))}),[]);function ln(e){var t=Qt(e.x);return i([],o(j.current.values()),!1).reduce((function(n,a){return function(n,a){var o=a.getPoints(t,7);if(void 0===o)return n;var i=o.reduce((function(t,n){var o=[Jt(n[0]),en(n[1],u.AxisMap.get(a.axis))],i=Math.pow(o[0]-e.x,2)+Math.pow(o[1]-e.y,2);return void 0===t.distSq||i<t.distSq?{pt:{x:o[0],y:o[1]},distSq:i}:t}),{pt:{x:0,y:0},distSq:void 0});return void 0!==i.distSq&&(void 0===n.distSq||i.distSq<n.distSq)?i:n}(n,a)}),{pt:{x:0,y:0},distSq:void 0}).pt}var sn=l.useCallback((function(e){var t=(0,f.CreateGuid)();return W.current.set(t,e),t}),[]),cn=l.useCallback((function(e){W.current.delete(e)}),[]),un=l.useCallback((function(e,t){W.current.set(e,t)}),[]),fn=l.useCallback((function(t){"reset"===t?Kt():"download"===t?void 0!==e.onDataInspect&&e.onDataInspect(K):"capture"===t?(Oe(!0),void 0!==e.onCapture&&(U.current.captureID=e.onCapture(U.current.extraNeeded))):Ee(t)}),[K,Kt,e.onDataInspect]),dn=l.useCallback((function(e){var t=function(t,n,a,o){if(o===u.AxisMap.get(n.axis)){var i=a(e);void 0!==i&&t.push(i)}return t};return le.map((function(e,n){var a=Math.min.apply(Math,i([],o(i([],o(j.current.values()),!1).reduce((function(e,a){return t(e,a,a.getMin,n)}),[])),!1)),r=Math.max.apply(Math,i([],o(i([],o(j.current.values()),!1).reduce((function(e,a){return t(e,a,a.getMax,n)}),[])),!1));return!isNaN(a)&&!isNaN(r)&&isFinite(a)&&isFinite(r)?[a,r]:le[n]}))}),[Z,le]);function hn(e){e[0]===K[0]&&e[1]===K[1]||(e[0]<e[1]?J(e):J([e[1],e[0]]))}function mn(e){jt((function(t,n,a){return(e[n][0]!==t[0]||e[n][1]!==t[1])&&(e[0]<e[1]?a[n]=e[n]:a[n]=[e[n][1],e[n][0]],!0)}))}return l.createElement(u.ContextWrapper,{XDomain:K,MousePosition:Pe,MousePositionSnap:Ye,YDomain:le,CurrentMode:be,MouseIn:we,UpdateFlag:Mt,Data:j,DataGuid:Z,MassEnableCommand:Rt,XApplyPixelOffset:tn,YApplyPixelOffset:nn,XTransform:Jt,YTransform:en,XInvTransform:Qt,YInvTransform:$t,SetXDomain:hn,SetYDomain:mn,AddData:on,RemoveData:an,UpdateData:an,SetLegend:rn,RegisterSelect:sn,RemoveSelect:cn,UpdateSelect:un},l.createElement("div",{id:B,style:{height:e.height,width:e.width,position:"relative"}},l.createElement("div",{style:{height:kt,width:Nt,position:"absolute",cursor:Ie},onWheel:function(t){var n;if(be.includes("zoom")&&we){clearTimeout(z.current.timeout),z.current.stopScroll=!0,z.current.timeout=setTimeout((function(){z.current.stopScroll=!1}),200);var a=1.25;t.deltaY<0&&(a=.75);var o="AutoValue"===e.yDomain||"HalfAutoValue"===e.yDomain;if("zoom-horizontal"!==be){var i=Jt(K[0]),r=Jt(K[1]);if(Pe[0]<Qe)r=a*(r-i)+i;else if(Pe[0]>Nt-Je)i=r-a*(r-i);else{var l=Pe[0];i=l-(l-i)*a,r=l+(r-l)*a}if(r-i>10){var c;if(c=null!==(n=e.limitZoom)&&void 0!==n&&n?[Math.max(mt[0],Qt(i)),Math.min(mt[1],Qt(r))]:[Qt(i),Qt(r)],"zoom-vertical"===be&&o){var u=dn(c);s.isEqual(u,le)||se(u)}J(c)}}"zoom-vertical"!==be&&(u=le.map((function(t,n,o){var i,r=en(t[0],n),l=en(t[1],n);if(Pe[1]<ze)l=a*(l-r)+r;else if(Pe[1]>kt-je)r=l-a*(l-r);else{var s=Pe[1];r=s-(s-r)*a,l=s+(l-s)*a}return Math.abs(l-r)>10?null!==(i=e.limitZoom)&&void 0!==i&&i?[Math.max(gt[n][0],$t(r,n)),Math.min(gt[n][1],$t(l,n))]:[$t(r,n),$t(l,n)]:t})),s.isEqual(u,le)||se(u))}},onMouseMove:function(t){_e.current||requestAnimationFrame((function(){return function(t){var n;if(_e.current=!1,null!=O.current){var a=O.current.createSVGPoint();a.x=t.clientX,a.y=t.clientY;var o,i=a.matrixTransform(O.current.getScreenCTM().inverse());if("pan"===xe){var r=Pe[0]-i.x,l=Jt(K[0]),s=Jt(K[1]),c=Qt(l+r),u=Qt(s+r);(void 0===e.Tmin||c>e.Tmin)&&(void 0===e.Tmax||u<e.Tmax)&&J([c,u]),jt((function(t,n,a){var o=$t(Pe[1],n)-$t(i.y,n),r=F(e.Ymin,n),l=F(e.Ymax,n);return(void 0===r||t[0]+o>r)&&(void 0===l||t[1]+o<l)&&(a[n]=[t[0]+o,t[1]+o],!0)}))}ke([i.x,i.y]),o=null!==(n=e.snapMouse)&&void 0!==n&&n?ln(i):i,Ne([o.x,o.y]),W.current.size>0&&W.current.forEach((function(e){return void 0!==e.onMove?e.onMove(Qt(e.allowSnapping?o.x:i.x),$t(e.allowSnapping?o.y:i.y,e.axis)):null}))}}(t)})),_e.current=!0},onMouseDown:function(t){var n,a,r,l;if(null!=O.current){var s=O.current.createSVGPoint();s.x=t.clientX,s.y=t.clientY;var c=s.matrixTransform(O.current.getScreenCTM().inverse());Le([c.x,c.y]);var f,d=null===(n=e.zoom)||void 0===n||n,h=null===(a=e.yZoom)||void 0===a||a,m=null===(r=e.xZoom)||void 0===r||r;"zoom-horizontal"===be&&h?Me("zoom-horizontal"):"zoom-vertical"===be&&m?Me("zoom-vertical"):"zoom-rectangular"===be&&d&&Me("zoom-rectangular"),"pan"!==be||void 0!==e.pan&&!e.pan||(Me("pan"),Re("grabbing")),f=null!==(l=e.snapMouse)&&void 0!==l&&l?ln(c):c,"select"===be&&void 0!==e.onSelect&&e.onSelect(Qt(f.x),i([],o(u.AxisMap.values()),!1).map((function(e){return $t(f.y,e)})),{setTDomain:hn,setYDomain:mn}),W.current.size>0&&"select"===be&&W.current.forEach((function(e){return void 0!==e.onClick?e.onClick(Qt(e.allowSnapping?f.x:c.x),$t(e.allowSnapping?f.y:c.y,e.axis)):null}))}},onMouseUp:function(){if("pan"!==be||void 0!==e.pan&&!e.pan||Re("grab"),xe.includes("zoom")){if(Math.abs(Pe[0]-Xe[0])<10&&Math.abs(Pe[1]-Xe[1])<10)return void Me("none");var t="AutoValue"===e.yDomain||"HalfAutoValue"===e.yDomain;if("zoom-horizontal"!==xe){var n=Math.min(Qt(Pe[0]),Qt(Xe[0])),a=Math.max(Qt(Pe[0]),Qt(Xe[0])),o=[Math.max(K[0],n),Math.min(K[1],a)];if("zoom-vertical"===be){var i=dn(o);!s.isEqual(i,le)&&t&&se(i)}J(o)}"zoom-vertical"!==xe&&(i=le.map((function(e,t,n){var a=Math.min($t(Pe[1],t),$t(Xe[1],t)),o=Math.max($t(Pe[1],t),$t(Xe[1],t));return[Math.max(e[0],a),Math.min(e[1],o)]})),s.isEqual(i,le)||se(i))}Me("none"),W.current.size>0&&"select"===be&&W.current.forEach((function(e){return void 0!==e.onRelease?e.onRelease(Qt(e.allowSnapping?Ye[0]:Pe[0]),$t(e.allowSnapping?Ye[1]:Pe[1],e.axis)):null}))},onMouseLeave:function(e){De(!1),"pan"===xe&&Me("none"),W.current.size>0&&"select"===be&&W.current.forEach((function(e){return void 0!==e.onPlotLeave?e.onPlotLeave(Qt(e.allowSnapping?Ye[0]:Pe[0]),$t(e.allowSnapping?Ye[1]:Pe[1],e.axis)):null}))},onMouseEnter:function(e){De(!0)}},l.createElement("svg",{ref:O,width:Nt<0?0:Nt,height:kt<0?0:kt,style:X,viewBox:"0 0 ".concat(Nt<0?0:Nt," ").concat(kt<0?0:kt)},void 0!==e.showBorder&&e.showBorder?l.createElement("path",{stroke:"currentColor",d:"M ".concat(Qe," ").concat(ze," H ").concat(Nt-Je," V ").concat(kt-je," H ").concat(Qe," Z")}):null,"time"===e.XAxisType||void 0===e.XAxisType?l.createElement(h.default,{label:e.Tlabel,offsetBottom:je,offsetLeft:Qe,offsetRight:Je,width:Nt,height:kt,setHeight:rt,heightAxis:it,showLeftMostTick:!ve[0],showRightMostTick:!ve[1],showDate:e.showDateOnTimeAxis}):"value"===e.XAxisType?l.createElement(A.default,{offsetBottom:je,offsetLeft:Qe,offsetRight:Je,width:Nt,height:kt,setHeight:rt,heightAxis:it,label:e.Tlabel,showLeftMostTick:!ve[0],showRightMostTick:!ve[1]}):l.createElement(m.default,{offsetTop:ze,showGrid:e.showGrid,label:e.Tlabel,offsetBottom:je,offsetLeft:Qe,offsetRight:Je,width:Nt,height:kt,setHeight:rt,heightAxis:it,showLeftMostTick:!ve[0],showRightMostTick:!ve[1]}),null!==(_=e.hideYAxis)&&void 0!==_&&_?null:l.createElement(l.Fragment,null,ve[0]?l.createElement(p.default,{offsetRight:Je,showGrid:e.showGrid,label:F(e.Ylabel,0),offsetTop:ze,offsetLeft:Qe,offsetBottom:je,width:Nt,height:kt,setWidthAxis:ct,setHeightFactor:at,axis:"left",hAxis:st,hFactor:nt,useFactor:void 0===e.useMetricFactors||e.useMetricFactors}):null,ve[1]?l.createElement(p.default,{offsetRight:Je,showGrid:e.showGrid,label:F(e.Ylabel,1),offsetTop:ze,offsetLeft:Qe,offsetBottom:je,width:Nt,height:kt,setWidthAxis:dt,setHeightFactor:at,axis:"right",hAxis:ft,hFactor:nt,useFactor:void 0===e.useMetricFactors||e.useMetricFactors}):null),l.createElement("defs",null,l.createElement("clipPath",{id:"cp-"+B},l.createElement("path",{stroke:"none",fill:"none",d:" M ".concat(Qe,",").concat(ze-5," H  ").concat(Nt-Je+5," V ").concat(kt-je," H ").concat(Qe," Z")}))),l.createElement("g",{clipPath:"url(#cp-"+B+")"},l.Children.map(e.children,(function(e){return!l.isValidElement(e)||e.type!==y.default&&e.type!==g.default&&e.type!==D.default&&e.type!==M.default&&e.type!==S.default&&e.type!==b.default&&e.type!==E.default&&e.type!==w.default&&e.type!==C.default&&e.type!==T.default&&e.type!==k.default&&e.type!==Y.default?null:e})),Ge||void 0!==e.showMouse&&("none"===e.showMouse||!1===e.showMouse)?null:l.createElement("path",{stroke:"currentColor",style:{strokeWidth:2,opacity:we?.8:0},d:"horizontal"!==e.showMouse?"M ".concat(Pe[0]," ").concat(ze," V ").concat(kt-je):"M ".concat(Qe," ").concat(Pe[1]," H ").concat(Nt-Je)}),(Ot||Wt||zt)&&xe.includes("zoom")?l.createElement("rect",{fillOpacity:.8,fill:"currentColor",x:"zoom-horizontal"!==xe?Math.min(Xe[0],Pe[0]):Qe,y:"zoom-vertical"!==xe?Math.min(Xe[1],Pe[1]):ze,width:"zoom-horizontal"!==xe?Math.abs(Xe[0]-Pe[0]):Nt-Qe-Je,height:"zoom-vertical"!==xe?Math.abs(Xe[1]-Pe[1]):kt-ze-je}):null),Ge||"hide"===e.menuLocation?l.createElement(l.Fragment,null):l.createElement(c.default,{showPan:Ut,showZoom:Ot,showHorizontalZoom:Wt,showVerticalZoom:zt,showReset:Bt,showSelect:void 0!==e.onSelect||W.current.size>0,showDownload:void 0!==e.onDataInspect,showCapture:void 0!==e.onCapture,currentSelection:be,setSelection:fn,holdOpen:e.holdMenuOpen,heightAvaliable:kt-22,setWidth:Vt,x:"left"===e.menuLocation?14:Nt-14-Lt+20,y:22,"data-html2canvas-ignore":"true"},l.Children.map(e.children,(function(e){return l.isValidElement(e)&&e.type===x.default?e:null}))))),void 0!==e.legend&&"hidden"!==e.legend?l.createElement(v.default,{location:e.legend,height:Et,width:Gt,graphWidth:Nt,graphHeight:kt,RequestLegendWidth:Zt,RequestLegendHeight:qt,SendMassCommand:_t,HideDisabled:Ge}):null))}},23954:function(e,t,n){var a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var a,o,i=n.call(e),r=[];try{for(;(void 0===t||t-- >0)&&!(a=i.next()).done;)r.push(a.value)}catch(e){o={error:e}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return r},o=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var a,o=0,i=t.length;o<i;o++)!a&&o in t||(a||(a=Array.prototype.slice.call(t,0,o)),a[o]=t[o]);return e.concat(a||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0});var i=n(6904),r=n(16463);t.default=function(e){var t=i.useRef(new Map),n=a(i.useState(0),2),l=n[0],s=n[1],c=i.useCallback((function(e,n){t.current.set(e,n);var i=Math.max.apply(Math,o([],a(t.current.values()),!1));s(i)}),[]),u=i.useCallback((function(e){t.current.delete(e),s((function(){var e=o([],a(t.current.values()),!1);return Math.max.apply(Math,o([],a(e),!1))}))}),[]),f=i.useMemo((function(){return{LegendWidth:l,RegisterLegendWidth:c,UnRegisterLegendWidth:u,HasConsumer:!0}}),[l]);return i.createElement(r.default.Provider,{value:f},e.children)}},16463:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});var a=n(6904).createContext({HasConsumer:!1,LegendWidth:0,RegisterLegendWidth:function(){},UnRegisterLegendWidth:function(){}});t.default=a},70894:function(e,t,n){var a=n(78),o=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var a,o,i=n.call(e),r=[];try{for(;(void 0===t||t-- >0)&&!(a=i.next()).done;)r.push(a.value)}catch(e){o={error:e}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return r},i=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var a,o=0,i=t.length;o<i;o++)!a&&o in t||(a||(a=Array.prototype.slice.call(t,0,o)),a[o]=t[o]);return e.concat(a||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.PointNode=void 0;var r=function(){function e(e,t){var n=this;if(this.minT=NaN,this.maxT=NaN,this.sum=[NaN],this.count=NaN,this.minV=[NaN],this.maxV=[NaN],this.children=null,this.points=null,this.dim=NaN,void 0!==t?this.maxCount=t:void 0===e||e.length<2e3?this.maxCount=2e3:(this.maxCount=e.length,a.warn("MaxTotalPoints was not provided to PointNode, adding new points will start removing the earliest points.")),void 0!==e){if(this.dim=0===e.length?NaN:e[0].length,0!==e.length&&e.some((function(e){return e.length!==n.dim})))throw new TypeError("Jagged data passed to PointNode. All points should all be ".concat(this.dim," dimensions."));this.initializeNode(e)}}return e.createNodeWithDesiredTreeSize=function(t,n){var a=new e;return a.dim=t.length,a.minT=t[0],a.maxT=t[0],a.count=1,a.sum=t.filter((function(e,t){return 0!=t})),a.minV=t.filter((function(e,t){return 0!=t})),a.maxV=t.filter((function(e,t){return 0!=t})),1===n?a.points=[t]:a.children=[e.createNodeWithDesiredTreeSize(t,n-1)],a},e.CreateCopy=function(t){var n=new e;return n.dim=t.dim,n.minT=t.minT,n.maxT=t.maxT,n.minV=i([],o(t.minV),!1),n.maxV=i([],o(t.maxV),!1),n.sum=i([],o(t.sum),!1),n.count=t.count,n.children=null!=t.children?i([],o(t.children),!1):null,n.points=null!=t.points?i([],o(t.points),!1):null,n},e.prototype.initializeNode=function(t){t.length<=20?(this.points=i([],o(t),!1),this.children=null):this.children=e.splitPoints(t),this.RecalculateStats()},e.prototype.AddPoint=function(t){if(Number.isNaN(this.dim)&&(this.dim=t.length),0===t.length)throw new Error("No point to add");if(t.length!==this.dim)throw new TypeError("Jagged data passed to PointNode.Add(). Points should be ".concat(this.dim," dimension."));if(this.TryAddPoints(t))this.count>this.maxCount&&this.removeLeftMostPoint();else{var n=e.CreateCopy(this);this.children=[n,e.createNodeWithDesiredTreeSize(t,this.GetTreeSize())],this.points=null,this.RecalculateStats(),this.count>this.maxCount&&this.removeLeftMostPoint()}},e.prototype.TryAddPoints=function(t){var n=this.GetTreeSize();if(n>1&&null!==this.children){var a=this.children[this.children.length-1].TryAddPoints(t);if(!a&&this.children.length<20){var r=e.createNodeWithDesiredTreeSize(i([],o(t),!1),n-1);return this.children.push(r),this.IncrementStatsForNewChild(r),!0}return a&&this.RecalculateStats(),a}return this.points.length<20&&(this.points.push(t),this.IncrementStatsForNewPoint(t),!0)},e.splitPoints=function(t){for(var n=1;Math.pow(20,n)<t.length;)n++;for(var a=Math.pow(20,n-1),o=[],i=0;i<t.length;)o.push(new e(t.slice(i,i+a))),i+=a;return o},e.prototype.removeLeftMostPoint=function(){null!==this.points?this.points.length>0&&this.points.shift():null!==this.children&&this.children.length>0&&(this.children[0].removeLeftMostPoint(),0===this.children[0].count&&this.children.shift()),this.RecalculateStats()},e.prototype.RecalculateStats=function(){null!==this.points?this.CalculatePointStats():null!==this.children&&this.AggregateChildStats()},e.prototype.CalculatePointStats=function(){var e,t,n,a,r,l,s,c,u;if(null!==this.points){if(0===this.points.length)return this.count=0,this.minT=NaN,this.maxT=NaN,this.dim=NaN,this.minV=[],this.maxV=[],void(this.sum=[]);this.count=this.points.length,this.minT=null!==(n=null===(t=null===(e=this.points)||void 0===e?void 0:e[0])||void 0===t?void 0:t[0])&&void 0!==n?n:NaN,this.maxT=null!==(l=null===(r=null===(a=this.points)||void 0===a?void 0:a[this.points.length-1])||void 0===r?void 0:r[0])&&void 0!==l?l:NaN,this.dim=null!==(u=null===(c=null===(s=this.points)||void 0===s?void 0:s[0])||void 0===c?void 0:c.length)&&void 0!==u?u:NaN;for(var f=function(e){var t=d.points.map((function(t){return t[e]}));d.minV[e-1]=Math.min.apply(Math,i([],o(t),!1)),d.maxV[e-1]=Math.max.apply(Math,i([],o(t),!1)),d.sum[e-1]=t.reduce((function(e,t){return e+t}),0)},d=this,h=1;h<this.dim;h++)f(h)}},e.prototype.AggregateChildStats=function(){if(null!==this.children&&0!==this.children.length){this.minT=Math.min.apply(Math,i([],o(this.children.map((function(e){return e.minT}))),!1)),this.maxT=Math.max.apply(Math,i([],o(this.children.map((function(e){return e.maxT}))),!1));for(var e=function(e){t.minV[e]=Math.min.apply(Math,i([],o(t.children.map((function(t){return t.minV[e]}))),!1)),t.maxV[e]=Math.max.apply(Math,i([],o(t.children.map((function(t){return t.maxV[e]}))),!1)),t.sum[e]=t.children.reduce((function(t,n){return t+n.sum[e]}),0)},t=this,n=0;n<this.dim-1;n++)e(n);this.count=this.children.reduce((function(e,t){return e+t.count}),0)}},e.prototype.IncrementStatsForNewChild=function(e){this.minT=Math.min(this.minT,e.minT),this.maxT=Math.max(this.maxT,e.maxT);for(var t=0;t<this.dim-1;t++)this.minV[t]=Math.min(this.minV[t],e.minV[t]),this.maxV[t]=Math.max(this.maxV[t],e.maxV[t]),this.sum[t]+=e.sum[t];this.count+=e.count},e.prototype.IncrementStatsForNewPoint=function(e){isNaN(this.count)&&(this.count=0),isNaN(this.minT)&&(this.minT=e[0]),isNaN(this.maxT)&&(this.maxT=e[0]),this.count+=1,this.minT=Math.min(this.minT,e[0]),this.maxT=Math.max(this.maxT,e[0]);for(var t=0;t<this.dim-1;t++){isNaN(this.sum[t])&&(this.sum[t]=0),isNaN(this.minV[t])&&(this.minV[t]=e[t+1]),isNaN(this.maxV[t])&&(this.maxV[t]=e[t+1]);var n=e[t+1];null!==this.points&&1===this.points.length?(this.minV[t]=n,this.maxV[t]=n,this.sum[t]+=n):(this.minV[t]=Math.min(this.minV[t],n),this.maxV[t]=Math.max(this.maxV[t],n),this.sum[t]+=n)}},e.prototype.GetData=function(e,t,n){var a=this;if(null!=this.points&&e<=this.minT&&t>=this.maxT)return this.points;if(null!=this.points&&void 0!==n&&n)return this.points.filter((function(n,o){var i,r;return n[0]>=e&&n[0]<=t||o<(null!==(r=null===(i=a.points)||void 0===i?void 0:i.length)&&void 0!==r?r:0)-1&&(null!=a.points?a.points[o+1][0]:0)>=e||o>0&&(null!=a.points?a.points[o-1][0]:0)<=t}));if(null!=this.points)return this.points.filter((function(n){return n[0]>=e&&n[0]<=t}));var r=[];return r.concat.apply(r,i([],o(this.children.filter((function(n){return n.minT<=e&&n.maxT>e||n.maxT>=t&&n.minT<t||n.minT>=e&&n.maxT<=t})).map((function(a){return a.GetData(e,t,n)}))),!1))},e.prototype.GetFullData=function(){return this.GetData(this.minT,this.maxT)},e.prototype.GetCount=function(e,t){return null!==this.points?e<=this.minT&&t>=this.maxT?this.count:this.points.reduce((function(n,a){return n+(a[0]>=e&&a[0]<=t?1:0)}),0):null!==this.children?this.children.reduce((function(n,a){return n+(a.minT<=t&&a.maxT>=e?a.GetCount(e,t):0)}),0):0},e.prototype.GetAllLimits=function(e,t){for(var n=Array(this.dim-1),a=0;a<this.dim-1;a++)n[a]=this.GetLimits(e,t,a);return n},e.prototype.GetLimits=function(e,t,n){var a=null!=n?n:0,r=this.maxV[a],l=this.minV[a];if(null==this.points&&!(e<=this.minT&&t>this.maxT)){var s=this.children.filter((function(n){return n.maxT>e&&n.minT<t})).map((function(n){return n.GetLimits(e,t,a)}));l=Math.min.apply(Math,i([],o(s.map((function(e){return e[0]}))),!1)),r=Math.max.apply(Math,i([],o(s.map((function(e){return e[1]}))),!1))}return null==this.points||e<=this.minT&&t>this.maxT||(s=this.points.filter((function(n){return n[0]>e&&n[0]<t})).map((function(e){return e[a+1]})),l=Math.min.apply(Math,i([],o(s),!1)),r=Math.max.apply(Math,i([],o(s),!1))),[l,r]},e.prototype.GetPoint=function(e){return this.PointBinarySearch(e,1)[0]},e.prototype.GetPoints=function(e,t){return void 0===t&&(t=1),this.PointBinarySearch(e,t)},e.prototype.PointBinarySearch=function(e,t,n,a){if(void 0===t&&(t=1),t<=0)throw new RangeError("Requested number of points must be positive value.");if(null!==this.points){if(0===this.points.length)return[[NaN]];if(e<this.minT){var o=(i=t-this.points.length)>0&&void 0!==a?a.PointBinarySearch(e,i,this,void 0):[];return this.points.slice(0,t).concat(o)}var i;if(e>this.maxT)return(o=(i=t-this.points.length)>0&&void 0!==n?n.PointBinarySearch(e,i,void 0,this):[]).concat(this.points.slice(-t));for(var r=this.points.length-1,l=0,s=this.minT,c=this.maxT;c!==e&&s!==e&&r!==l&&c!==s;){var u=Math.round((r+l)/2),f=this.points[u][0];if(u===r||u===l)break;f<=e&&(l=u),f>e&&(r=u),c=this.points[r][0],s=this.points[l][0]}var d=Math.floor(t/2),h=d,m=t%2==0?1:0,p=void 0;Math.abs(e-s)<Math.abs(e-c)?(p=l,h-=m):(p=r,d-=m);var v=p+d+1-this.points.length,g=v>0&&void 0!==a?a.PointBinarySearch(e,v,this,void 0):[],y=h-p;return(y>0&&void 0!==n?n.PointBinarySearch(e,y,void 0,this):[]).concat(this.points.slice(Math.max(p-h,0),Math.min(p+d+1,this.points.length))).concat(g)}if(null!==this.children){var x=-1;if(e<this.minT)x=0;else if(e>this.maxT)x=this.children.length-1;else if((x=this.children.findIndex((function(t){return t.maxT>=e})))>0&&this.children[x].minT>e){var M=this.children[x].minT,S=this.children[x-1].maxT;Math.abs(e-S)<Math.abs(e-M)&&x--}if(-1===x)throw new RangeError("Could not find child node with point that has a time value of ".concat(e));var b=x!==this.children.length-1?this.children[x+1]:void 0,E=0!==x?this.children[x-1]:void 0;return this.children[x].PointBinarySearch(e,t,E,b)}throw new RangeError("Both children and points are null for PointNode, unable to find point with time value of ".concat(e))},e.prototype.GetTreeSize=function(){return null==this.children?1:1+Math.max.apply(Math,i([],o(this.children.map((function(e){return e.GetTreeSize()}))),!1))},e}();t.PointNode=r},86790:function(e,t,n){var a=this&&this.__assign||function(){return a=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},a.apply(this,arguments)},o=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var a,o,i=n.call(e),r=[];try{for(;(void 0===t||t-- >0)&&!(a=i.next()).done;)r.push(a.value)}catch(e){o={error:e}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return r};Object.defineProperty(t,"__esModule",{value:!0});var i=n(6904),r=n(84512),l=i.forwardRef((function(e,t){var n=o(i.useState(0),2),l=n[0],s=n[1];return i.useEffect((function(){var t=setInterval((function(){null!=e.RerenderCallback?e.RerenderCallback()&&s((function(e){return e+1})):s((function(e){return e+1}))}),1e3*e.Interval);return function(){return clearInterval(t)}}),[e.Interval,e.RerenderCallback]),i.createElement(r.InternalLine,a({},e,{ref:t,reRender:l}))}));t.default=l},57060:function(e,t,n){var a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var a,o,i=n.call(e),r=[];try{for(;(void 0===t||t-- >0)&&!(a=i.next()).done;)r.push(a.value)}catch(e){o={error:e}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return r};Object.defineProperty(t,"__esModule",{value:!0});var o=n(6904),i=n(84917),r=function(e){var t,n,a,r,l=o.useContext(i.GraphContext),s=null!==(n=null===(t=e.inPixels)||void 0===t?void 0:t.x)&&void 0!==n&&n?l.XApplyPixelOffset(e.x):l.XTransformation(e.x),c=null!==(r=null===(a=e.inPixels)||void 0===a?void 0:a.y)&&void 0!==r&&r?l.YApplyPixelOffset(e.y):l.YTransformation(e.y,e.a);return o.createElement("foreignObject",{style:e.style,x:s-e.r,y:c-e.r,width:2*e.r,height:2*e.r},e.children)};t.default=function(e){var t=o.useContext(i.GraphContext),n=a(o.useState({x:e.xPos,y:e.yPos}),2),l=n[0],s=n[1],c=a(o.useState(!1),2),u=c[0],f=c[1],d=a(o.useState(""),2),h=d[0],m=d[1],p=o.useCallback((function(n,a){var o,r,l,s,c=null!==(r=null===(o=e.usePixelPositioning)||void 0===o?void 0:o.x)&&void 0!==r&&r?t.XApplyPixelOffset(e.xPos):t.XTransformation(e.xPos),u=t.XTransformation(n),f=null!==(s=null===(l=e.usePixelPositioning)||void 0===l?void 0:l.y)&&void 0!==s&&s?t.YApplyPixelOffset(e.yPos):t.YTransformation(e.yPos,i.AxisMap.get(e.axis)),d=t.YTransformation(a,i.AxisMap.get(e.axis));return u<=c+e.radius&&u>=c-e.radius&&d<=f+e.radius&&d>=f-e.radius}),[e.axis,e.yPos,e.yPos,e.radius,i.AxisMap,e.usePixelPositioning,t.XTransformation,t.YTransformation,t.XApplyPixelOffset,t.YApplyPixelOffset]),v=o.useCallback((function(e,t){p(e,t)&&f(!0)}),[f,p]),g=o.useCallback((function(t,n){void 0!==e.onHover&&p(t,n)&&e.onHover()}),[e.onHover,p]);return o.useEffect((function(){var n=t.RegisterSelect({onRelease:function(){return f(!1)},onPlotLeave:function(){return f(!1)},onClick:v,onMove:g,axis:e.axis,allowSnapping:!1});return m(n),function(){t.RemoveSelect(n)}}),[]),o.useEffect((function(){""!==h&&t.UpdateSelect(h,{onRelease:function(){return f(!1)},onPlotLeave:function(){return f(!1)},onClick:v,onMove:g,axis:e.axis,allowSnapping:!1})}),[v,g]),o.useEffect((function(){s({x:e.xPos,y:e.yPos})}),[e.xPos,e.yPos]),o.useEffect((function(){void 0!==e.setPosition&&(u||e.xPos===l.x&&e.yPos===l.y||e.setPosition(l.x,l.y))}),[u,l]),o.useEffect((function(){"select"!==t.CurrentMode&&f(!1)}),[t.CurrentMode]),o.useEffect((function(){u&&s({x:t.XHoverSnap,y:t.YHoverSnap[i.AxisMap.get(e.axis)]})}),[t.XHoverSnap,t.YHoverSnap]),o.createElement(o.Fragment,null,o.createElement(r,{style:e.style,x:e.xPos,y:e.yPos,r:e.radius,a:i.AxisMap.get(e.axis),inPixels:e.usePixelPositioning},e.children),void 0===e.setPosition||e.xPos===l.x&&e.yPos===l.y?null:o.createElement(r,{style:e.style,x:l.x,y:l.y,r:e.radius,a:i.AxisMap.get(e.axis),inPixels:e.usePixelPositioning},e.children))}},79474:function(e,t,n){var a=n(78),o=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var a,o,i=n.call(e),r=[];try{for(;(void 0===t||t-- >0)&&!(a=i.next()).done;)r.push(a.value)}catch(e){o={error:e}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return r},i=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var a,o=0,i=t.length;o<i;o++)!a&&o in t||(a||(a=Array.prototype.slice.call(t,0,o)),a[o]=t[o]);return e.concat(a||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0});var r=n(6904),l=n(84917),s=n(32098),c=n(24334),u=n(51935),f=36e5,d=31536e6;function h(e,t){return s.utc(e).format(t)}t.default=r.memo((function(e){var t,n,m,p,v=r.useContext(l.GraphContext),g=o(r.useState([]),2),y=g[0],x=g[1],M=o(r.useState(1),2),S=M[0],b=M[1],E=o(r.useState(0),2),T=E[0],w=E[1],D=o(r.useState("YYYY"),2),C=D[0],P=D[1],k=o(r.useState(""),2),A=k[0],Y=k[1],N=o(r.useState("Time"),2),H=N[0],X=N[1];function L(e){e.milliseconds(Math.floor(e.millisecond()))}function V(e){L(e),e.milliseconds(0)}function I(e){V(e),e.seconds(0)}function R(e){I(e),e.minutes(0)}function _(e){R(e),e.hours(0)}function F(e){_(e),e.weekday(0)}function G(e){_(e),e.date(1)}function O(e){_(e),e.dayOfYear(0)}return r.useEffect((function(){if(void 0!==e.label){var t="",n="";switch(C){case"SSS":t="MMM Do, YYYY HH:mm:ss",n=" (ms)";break;case"ss.SS":t="MMM Do, YYYY HH:mm",n=" (sec.ms)";break;case"ss":t="MMM Do, YYYY HH:mm",n=" (sec)";break;case"mm:ss":t="MMM Do, YYYY HH",n=" (min:sec)";break;case"mm":t="MMM Do, YYYY HH",n=" (min)";break;case"HH:mm":t="MMM Do, YYYY",n=" (hour:min)";break;case"HH":t="MMM Do, YYYY",n=" (hour)";break;case"DD HH":t="MMM YYYY",n=" (day hour)";break;case"MM/DD":t="YYYY",n=" (month/day)";break;case"MM YY":t="",n=" (month year)";break;case"YYYY":t="",n=" (year)";break;default:a.warn("Unrecognized format: ".concat(C))}if(""===e.label){var o=""===t?"Time":h(y[0],t);X(o+n)}else X(e.label+n)}else X(void 0)}),[C,e.label,y]),r.useEffect((function(){var e=Math.max.apply(Math,i([],o(y.map((function(e){return(0,c.GetTextHeight)("Segoe UI","1em",h(e,C))}))),!1));e=(isFinite(e)?e:0)+12,w(e)}),[y,C]),r.useEffect((function(){var t=void 0!==H?(0,c.GetTextHeight)("Segoe UI","1em",H):0;T+t!==e.heightAxis&&e.setHeight(T+t)}),[T,H,e.heightAxis,e.setHeight]),r.useEffect((function(){var t,n=v.XDomain[1]-v.XDomain[0];if(0!==n){var a="YYYY",o="";n<47304e7&&n>=d&&(a="MM YY",o=""),n<d&&n>=2592e6&&(a="MM/DD",o="YY"),n<2592e6&&n>=1728e5&&(a="DD HH",o="YY"),n<1728e5&&n>=108e6&&(a="HH",o="MM/DD"),n<108e6&&n>=f&&(a="HH:mm",o="MM/DD"),n<f&&n>=18e5&&(a="mm",o="MM/DD HH"),n<18e5&&n>=6e4&&(a="mm:ss",o="MM/DD HH"),n<6e4&&n>=3e4&&(a="ss",o="MM/DD HH:mm"),n<3e4&&n>=1e3&&(a="ss.SS",o="MM/DD HH:mm"),n<1e3&&(a="SSS",o="MM/DD HH:mm:ss");var i=s.utc(v.XDomain[0]),r=s.utc(v.XDomain[1]),l=s.duration(s.utc(v.XDomain[1]).diff(s.utc(v.XDomain[0]))),c=(0,u.cloneDeep)(i),h=10,m="y";l.asYears()>=70&&(h=10,m="y",O(c),c.year(10*Math.floor(c.year()/10))),l.asYears()<70&&l.asYears()>=40&&(h=5,O(c),c.year(5*Math.floor(c.year()/5))),l.asYears()<40&&l.asYears()>=15&&(h=2,O(c),c.year(2*Math.floor(c.year()/2))),l.asYears()<15&&l.asYears()>=6&&(m="M",h=12,O(c)),l.asYears()<6&&l.asYears()>=4&&(m="M",h=6,G(c),c.month(6*Math.floor(c.month()/6))),l.asYears()<4&&l.asYears()>=1.5&&(m="M",h=3,G(c),c.month(3*Math.floor(c.month()/3))),l.asYears()<1.5&&l.asMonths()>=6&&(m="M",h=1,G(c)),l.asMonths()<6&&l.asMonths()>=2&&(m="w",h=2,F(c)),l.asMonths()<2&&l.asMonths()>=1&&(m="w",h=1,F(c)),l.asMonths()<1&&l.asDays()>=16&&(m="d",h=2,_(c)),l.asDays()<16&&l.asDays()>=10&&(m="d",h=1,_(c)),l.asDays()<10&&l.asDays()>=3&&(m="h",h=12,R(c),c.hours(12*Math.floor(c.hours()/12))),l.asDays()<3&&l.asHours()>=30&&(m="h",h=6,R(c),c.hours(6*Math.floor(c.hours()/6))),l.asHours()<30&&l.asHours()>=18&&(m="h",h=3,R(c),c.hours(3*Math.floor(c.hours()/3))),l.asHours()<18&&l.asHours()>=6&&(m="h",h=1,R(c)),l.asHours()<6&&l.asHours()>=3&&(m="m",h=30,I(c),c.minutes(30*Math.floor(c.minutes()/30))),l.asHours()<3&&l.asHours()>=1&&(m="m",h=15,I(c),c.minutes(15*Math.floor(c.minutes()/15))),l.asHours()<1&&l.asMinutes()>=20&&(m="m",h=5,I(c),c.minutes(5*Math.floor(c.minutes()/5))),l.asMinutes()<20&&l.asMinutes()>=10&&(m="m",h=2,I(c),c.minutes(2*Math.floor(c.minutes()/2))),l.asMinutes()<10&&l.asMinutes()>=5&&(m="m",h=1,I(c)),l.asMinutes()<5&&l.asMinutes()>=2&&(m="s",h=30,V(c),c.second(30*Math.floor(c.second()/30))),l.asMinutes()<2&&l.asMinutes()>=1&&(m="s",h=15,V(c),c.second(15*Math.floor(c.second()/15))),l.asMinutes()<1&&l.asSeconds()>=30&&(m="s",h=5,V(c),c.second(5*Math.floor(c.second()/5))),l.asSeconds()<30&&l.asSeconds()>=15&&(m="s",h=2,V(c)),l.asSeconds()<15&&l.asSeconds()>=5&&(m="s",h=1,V(c)),l.asSeconds()<5&&l.asSeconds()>=2&&(m="ms",h=500,L(c),c.millisecond(500*Math.floor(c.millisecond()/500))),l.asSeconds()<2&&l.asSeconds()>=1&&(m="ms",h=250,L(c),c.millisecond(250*Math.floor(c.millisecond()/250))),l.asSeconds()<1&&l.asMilliseconds()>=500&&(m="ms",h=100,L(c),c.millisecond(100*Math.floor(c.millisecond()/100))),l.asMilliseconds()<500&&l.asMilliseconds()>=100&&(m="ms",h=50,L(c),c.millisecond(50*Math.floor(c.millisecond()/50))),l.asMilliseconds()<100&&l.asMilliseconds()>=20&&(m="ms",h=10,L(c),c.millisecond(10*Math.floor(c.millisecond()/10))),l.asMilliseconds()<20&&(m="ms",L(c),h=1);for(var p=[c.add(h,m)];p[p.length-1]<r;)p.push(p[p.length-1].clone().add(h,m));p.pop(),x(p.map((function(e){return e.valueOf()}))),P(a),null!==(t=e.showDate)&&void 0!==t&&t?Y(o):Y("")}}),[v.XDomain,e.showDate]),r.useEffect((function(){if(0!==y.length){for(var t=h(y[0],C),n=(e.width-e.offsetLeft-e.offsetRight-10)/y.length,a=1,o=(0,c.GetTextWidth)("Segoe UI",a+"em",t);o>n&&a>.5;)a-=.05,o=(0,c.GetTextWidth)("Segoe UI",a+"em",t);b(a)}}),[y,e.width,e.offsetLeft,e.offsetRight,C]),r.createElement("g",null,r.createElement("path",{stroke:"currentColor",style:{strokeWidth:1},d:"M ".concat(e.offsetLeft-(null===(t=e.showLeftMostTick)||void 0===t||t?0:8)," ").concat(e.height-e.offsetBottom," H ").concat(e.width-e.offsetRight+(null===(n=e.showRightMostTick)||void 0===n||n?0:8))}),null===(m=e.showLeftMostTick)||void 0===m||m?r.createElement("path",{stroke:"currentColor",style:{strokeWidth:1},d:"M ".concat(e.offsetLeft," ").concat(e.height-e.offsetBottom," v ").concat(8)}):null,null===(p=e.showRightMostTick)||void 0===p||p?r.createElement("path",{stroke:"currentColor",style:{strokeWidth:1},d:"M ".concat(e.width-e.offsetRight," ").concat(e.height-e.offsetBottom," v ").concat(8)}):null,void 0===e.showTicks||e.showTicks?r.createElement(r.Fragment,null,y.map((function(t,n){return r.createElement("path",{key:n,stroke:"currentColor",style:{strokeWidth:1,transition:"d 0.5s"},d:"M ".concat(v.XTransformation(t)," ").concat(e.height-e.offsetBottom+6," v ").concat(-6)})})),y.map((function(t,n){return r.createElement("text",{fill:"currentColor",key:n,fontSize:"".concat(S,"em"),style:{textAnchor:"middle",dominantBaseline:"hanging",transition:"x 0.5s, y 0.5s"},y:e.height-e.offsetBottom+8,x:v.XTransformation(t)},h(t,C))}))):null,void 0!==H?r.createElement("text",{fill:"currentColor",style:{fontSize:"1em",textAnchor:"middle",dominantBaseline:"middle"},x:e.offsetLeft+(e.width-e.offsetLeft-e.offsetRight)/2,y:e.height-e.offsetBottom+T},H):null,""!==A&&y.length>0?r.createElement("text",{fill:"currentColor",style:{fontSize:"1em",textAnchor:"end",dominantBaseline:"middle"},x:e.width-e.offsetRight,y:e.height-e.offsetBottom+T},h(y[0],A)):null)}))},64462:function(e,t,n){var a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var a,o,i=n.call(e),r=[];try{for(;(void 0===t||t-- >0)&&!(a=i.next()).done;)r.push(a.value)}catch(e){o={error:e}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return r};Object.defineProperty(t,"__esModule",{value:!0});var o=n(6904),i=n(84917);t.default=function(e){var t=o.useContext(i.GraphContext),n=a(o.useState(e.Value),2),r=n[0],l=n[1],s=a(o.useState(!1),2),c=s[0],u=s[1],f=a(o.useState(""),2),d=f[0],h=f[1];function m(n){var a=i.AxisMap.get(e.axis),o=void 0===e.start?t.YDomain[a][0]:e.start,r=void 0===e.end?t.YDomain[a][1]:e.end;return"M ".concat(t.XTransformation(n)," ").concat(t.YTransformation(o,a)," L ").concat(t.XTransformation(n)," ").concat(t.YTransformation(r,a))}var p=o.useCallback((function(n,a){var o=t.XTransformation(e.Value),i=t.XTransformation(n);i<=o+e.width/2&&i>=o-e.width/2&&u(!0)}),[e.width,e.Value,t.XTransformation]);return o.useEffect((function(){var n=t.RegisterSelect({onClick:p,onRelease:function(e){return u(!1)},onPlotLeave:function(e){return u(!1)},axis:e.axis,allowSnapping:!1});return h(n),function(){t.RemoveSelect(n)}}),[]),o.useEffect((function(){""!==d&&t.UpdateSelect(d,{onClick:p,onRelease:function(e){return u(!1)},onPlotLeave:function(e){return u(!1)},axis:e.axis,allowSnapping:!1})}),[p]),o.useEffect((function(){l(e.Value)}),[e.Value]),o.useEffect((function(){c&&void 0!==e.setValue&&e.Value!==r&&e.setValue(r)}),[c,r]),o.useEffect((function(){c&&void 0!==e.onClick&&e.onClick(e.Value)}),[c]),o.useEffect((function(){"select"!==t.CurrentMode&&u(!1)}),[t.CurrentMode]),o.useEffect((function(){c&&l(t.XHoverSnap)}),[t.XHoverSnap]),o.createElement("g",null,o.createElement("path",{d:m(e.Value),style:{fill:"none",strokeWidth:e.width,stroke:e.color},strokeDasharray:i.LineMap.get(e.lineStyle)}),void 0!==e.setValue&&e.Value!==r&&c?o.createElement("path",{d:m(r),style:{fill:"none",strokeWidth:e.width,stroke:e.color,opacity:.5},strokeDasharray:i.LineMap.get(e.lineStyle)}):null)}},95978:function(e,t,n){var a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var a,o,i=n.call(e),r=[];try{for(;(void 0===t||t-- >0)&&!(a=i.next()).done;)r.push(a.value)}catch(e){o={error:e}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return r},o=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var a,o=0,i=t.length;o<i;o++)!a&&o in t||(a||(a=Array.prototype.slice.call(t,0,o)),a[o]=t[o]);return e.concat(a||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0});var i=n(6904),r=n(84917),l=n(24334),s=function(e,t){return e.toFixed(t)};t.default=i.memo((function(e){var t,n,c,u,f=i.useContext(r.GraphContext),d=a(i.useState([]),2),h=d[0],m=d[1],p=a(i.useState(0),2),v=p[0],g=p[1],y=a(i.useState(0),2),x=y[0],M=y[1],S=a(i.useState(e.label),2),b=S[0],E=S[1],T=a(i.useState(0),2),w=T[0],D=T[1];return i.useEffect((function(){g(null!=b?(0,l.GetTextHeight)("Segoe UI","1em",b):0)}),[b]),i.useEffect((function(){var t;E(null!==(t=e.label)&&void 0!==t?t:"")}),[e.label]),i.useEffect((function(){if(0!=f.XDomain[1]-f.XDomain[0]){for(var e=function(e,t){var n=(t-e)/7,a=Math.floor(Math.log10(n)),o=n/Math.pow(10,a),i=(o<=1?1:o<=2?2:o<=5?5:10)*Math.pow(10,a);return{tickInterval:i,decimalPlaces:Math.max(0,-Math.floor(Math.log10(i)))}}(f.XDomain[0],f.XDomain[1]),t=e.tickInterval,n=e.decimalPlaces,a=Math.ceil(f.XDomain[0]/t)*t,o=f.XDomain[1],i=[],r=a;r<=o;r+=t)i.push(r);m(i),D(n)}}),[f.XDomain]),i.useEffect((function(){var e=Math.max.apply(Math,o([],a(h.map((function(e){return(0,l.GetTextHeight)("Segoe UI","1em",s(e,w))}))),!1)),t=(isFinite(e)?e:0)+12;M(t)}),[h,w]),i.useEffect((function(){x+v!==e.heightAxis&&e.setHeight(x+v)}),[x,v,e.heightAxis]),i.createElement("g",null,i.createElement("path",{stroke:"currentColor",style:{strokeWidth:1},d:"M ".concat(e.offsetLeft-(null===(t=e.showLeftMostTick)||void 0===t||t?0:8)," ").concat(e.height-e.offsetBottom," H ").concat(e.width-e.offsetRight+(null===(n=e.showRightMostTick)||void 0===n||n?0:8))}),null===(c=e.showLeftMostTick)||void 0===c||c?i.createElement("path",{stroke:"currentColor",style:{strokeWidth:1},d:"M ".concat(e.offsetLeft," ").concat(e.height-e.offsetBottom," v 8")}):null,null===(u=e.showRightMostTick)||void 0===u||u?i.createElement("path",{stroke:"currentColor",style:{strokeWidth:1},d:"M ".concat(e.width-e.offsetRight," ").concat(e.height-e.offsetBottom," v 8")}):null,i.createElement(i.Fragment,null,h.map((function(t,n){return i.createElement("path",{key:n,stroke:"currentColor",style:{strokeWidth:1,transition:"d 0.5s"},d:"M ".concat(f.XTransformation(t)," ").concat(e.height-e.offsetBottom+6," v -6")})})),h.map((function(t,n){return i.createElement("text",{fill:"currentColor",key:n,style:{fontSize:"1em",textAnchor:"middle",dominantBaseline:"hanging",transition:"x 0.5s, y 0.5s"},y:e.height-e.offsetBottom+8,x:f.XTransformation(t)},s(t,w))}))),null!=b?i.createElement("text",{fill:"currentColor",style:{fontSize:"1em",textAnchor:"middle",dominantBaseline:"middle"},x:e.offsetLeft+(e.width-e.offsetLeft-e.offsetRight)/2,y:e.height-e.offsetBottom+x},b):null)}))},81823:function(e,t,n){var a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var a,o,i=n.call(e),r=[];try{for(;(void 0===t||t-- >0)&&!(a=i.next()).done;)r.push(a.value)}catch(e){o={error:e}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return r},o=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var a,o=0,i=t.length;o<i;o++)!a&&o in t||(a||(a=Array.prototype.slice.call(t,0,o)),a[o]=t[o]);return e.concat(a||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0});var i=n(6904),r=n(84917),l=n(24334);t.default=i.memo((function(e){var t=i.useContext(r.GraphContext),n=a(i.useState([]),2),s=n[0],c=n[1],u=a(i.useState(1),2),f=u[0],d=u[1],h=a(i.useState(0),2),m=h[0],p=h[1],v=a(i.useState(1),2),g=v[0],y=v[1],x=a(i.useState(0),2),M=x[0],S=x[1],b=a(i.useState(1),2),E=b[0],T=b[1],w=a(i.useState(1),2),D=w[0],C=w[1];i.useEffect((function(){var n=r.AxisMap.get(e.axis),a=t.YDomain[n][1]-t.YDomain[n][0];if(isFinite(a)&&!isNaN(a)){var o;if(0===a)o=[t.YDomain[n][0]];else{for(var i=0;a*Math.pow(10,i)<1;)i+=1;for(;a*Math.pow(10,i)>10;)i-=1;var l=1/Math.pow(10,i);for(a*Math.pow(10,i)<6&&a*Math.pow(10,i)>=2.5&&(l=.5/Math.pow(10,i)),a*Math.pow(10,i)<2.5&&a*Math.pow(10,i)>=1.2&&(l=.2/Math.pow(10,i)),a*Math.pow(10,i)<1.2&&(l=.1/Math.pow(10,i)),o=[Math.floor(t.YDomain[n][0]/l)*l+l];o[o.length-1]<t.YDomain[n][1]-l;)o.push(o[o.length-1]+l)}c(o)}else c([])}),[t.YDomain,e.useFactor,e.axis,e.height]),i.useEffect((function(){if(0!==s.length){for(var t=(s[0]*D).toFixed(E),n=e.height/s.length,a=1,o=(0,l.GetTextHeight)("Segoe UI",a+"em",t);o>n&&a>.5;)a-=.05,o=(0,l.GetTextHeight)("Segoe UI",a+"em",t);d(a)}}),[s,D,E,e.height]),i.useEffect((function(){if(e.useFactor){for(var n=r.AxisMap.get(e.axis),a=t.YDomain[n][1]-t.YDomain[n][0],o=0,i=Math.max(Math.abs(t.YDomain[n][0]),Math.abs(t.YDomain[n][1]));i*Math.pow(10,o)<1;)o+=1;for(;i*Math.pow(10,o)>10;)o-=1;o=Math.sign(o)*Math.floor(Math.abs(o)/3)*3,a*Math.pow(10,o)<.1&&0!==a&&(o+=3),C(Math.pow(10,o))}else C(1)}),[t.YDomain,e.useFactor,e.axis]),i.useEffect((function(){var n=r.AxisMap.get(e.axis),a=t.YDomain[n][1]-t.YDomain[n][0];0==(a*=D)&&(a=Math.abs(t.YDomain[n][0]*D)),a>=15&&T(0),a<15&&a>=1.5&&T(1),a<1.5&&a>=.15&&T(2),a<.15&&T(3),a<.015&&T(4),a<.0015&&T(5),0===a&&T(2)}),[D,t.YDomain,e.axis]),i.useEffect((function(){var t=0;1!==D&&(t=(0,l.GetTextHeight)("Segoe UI","1em","x"+(1/D).toString())),t!==e.hFactor&&e.setHeightFactor(t)}),[D,e.hFactor,e.setHeightFactor]),i.useEffect((function(){if(void 0!==e.label){var t=(0,l.GetTextHeight)("Segoe UI",g+"em",e.label)+4;p(t)}else p(0)}),[e.label,e.height,e.offsetTop,e.offsetBottom,g]),i.useEffect((function(){var e=Math.max.apply(Math,o([],a(s.map((function(e){return(0,l.GetTextWidth)("Segoe UI","1em",(e*D).toFixed(E))}))),!1));(e=(isFinite(e)?e:0)+8)!==M&&S(e)}),[s,E]),i.useEffect((function(){e.hAxis!==M+m&&e.setWidthAxis(M+m)}),[M,m,e.hAxis]),i.useEffect((function(){return function(){return e.setWidthAxis(0)}}),[]),i.useEffect((function(){if(void 0!==e.label){for(var t=(0,l.GetTextWidth)("Segoe UI","1em",e.label),n=1;t>e.height&&n>.1;)n-=.1,t=(0,l.GetTextWidth)("Segoe UI",n+"em",e.label);g!==n&&y(n)}}),[e.label,e.height]);var P=i.useMemo((function(){return void 0===e.axis||"left"===e.axis?e.offsetLeft:e.width-e.offsetRight}),[e.offsetLeft,e.offsetRight,e.width,e.axis]),k=i.useMemo((function(){return void 0===e.axis||"left"===e.axis?-1:1}),[e.axis]);return i.createElement("g",null,i.createElement("path",{stroke:"currentColor",style:{strokeWidth:1,transition:"d 0.5s"},d:"M ".concat(P," ").concat(e.height-e.offsetBottom+8," V ").concat(e.offsetTop)}),i.createElement("path",{stroke:"currentColor",style:{strokeWidth:1,transition:"d 0.5s"},d:"M ".concat(P," ").concat(e.offsetTop," h ").concat(8*k)}),s.map((function(n,a){var o;return i.createElement("path",{key:a,stroke:void 0===e.axis||"left"===e.axis?"lightgrey":"darkgrey",strokeOpacity:null!==(o=e.showGrid)&&void 0!==o&&o?"0.8":"0.0",style:{strokeWidth:1,transition:"d 0.5s"},d:"M ".concat(e.offsetLeft," ").concat(t.YTransformation(n,r.AxisMap.get(e.axis))," h ").concat(e.width-e.offsetLeft-e.offsetRight)})})),s.map((function(n,a){return i.createElement("path",{key:a,stroke:"currentColor",style:{strokeWidth:1,transition:"d 1s"},d:"M ".concat(P," ").concat(t.YTransformation(n,r.AxisMap.get(e.axis))," h ").concat(6*k)})})),s.map((function(n,a){return i.createElement("text",{fill:"currentColor",key:a,style:{fontSize:"".concat(f,"em"),textAnchor:void 0===e.axis||"left"===e.axis?"end":"start",transition:"x 0.5s, y 0.5s"},dominantBaseline:"middle",x:P+8*k,y:t.YTransformation(n,r.AxisMap.get(e.axis))},(n*D).toFixed(E))})),void 0!==e.label?i.createElement("text",{fill:"currentColor",style:{fontSize:g+"em",textAnchor:"middle"},dominantBaseline:"text-bottom",transform:"rotate(".concat(90*k,",").concat(P+k*(M+4),",").concat((e.offsetTop-e.offsetBottom+e.height)/2,")"),x:P+k*(M+4),y:(e.offsetTop-e.offsetBottom+e.height)/2},e.label):null,1!==D?i.createElement("text",{fill:"currentColor",style:{fontSize:"1em"},x:P,y:e.offsetTop-5},"x",1/D):null)}))},28188:(e,t,n)=>{t.N1=t.Kl=void 0;var a=n(81377);t.Kl=a.default;var o=n(84512);t.N1=o.default,n(31594).default,n(28201).default,n(6460).default,n(64462).default,n(57060).default,n(84998).default,n(93107).default,n(18718).default,n(11505).default,n(71681).default;n(84917);n(30371).default;n(70894);n(86790).default,n(23954).default},93106:(e,t,n)=>{n.r(t),n.d(t,{default:()=>x});var a=n(6904),o=n(2580),i=n(54840);const r={PSet:{Value:-600,Description:"Define the threshold of P-set MW."},QSet:{Value:200,Description:"Define the threshold of Q-set MVar."},QAreaSet:{Value:500,Description:"Define the threshold of Q-area MVar-sec."},VoltageThreshold:{Value:475e3,Description:"Define the threshold of voltage, in volts."},AnalysisInterval:{Value:30,Description:"Define the interval between adjacent calculations. The default value is the frame-rate defined in the connection string for this Frequency Excursion."},LagTime:{Value:3,IsValid:e=>e>0,Description:"Defines the allowed past time deviation tolerance, in seconds (can be sub-second)."},LeadTime:{Value:1,IsValid:e=>e>0,Description:"Defines the allowed future time deviation tolerance, in seconds (can be sub-second)."},FramesPerSecond:{Value:30,IsValid:e=>e>0,Description:"Defines the number of frames per second expected by the adapter."},Currents:{Value:[],Description:"Defines the Current Magnitude to be used.",Parse:e=>null==e?[]:""===e?[""]:e.split(";"),Construct:e=>0===(null==e?void 0:e.length)?null:null==e?void 0:e.join(";")},Voltages:{Value:[],Description:"Defines the Voltage Magnitude to be used. If not supplied the system will use Primary or Secondary Voltage associated with the Current Phasor.",Parse:e=>null==e?[]:""===e?[""]:e.split(";"),Construct:e=>0===(null==e?void 0:e.length)?null:null==e?void 0:e.join(";")},WarningSignal:{Value:"",Description:"Defines the Output Measurement for Warning Signal.",IsValid:e=>null!=e&&0!==e.trim().length},RealPower:{Value:"",Description:"Defines the Output Measurement for Frequency Delta.",IsValid:e=>null!=e&&0!==e.trim().length},ReactivePower:{Value:"",Description:"Defines the Output Measurement for Type Of Excursion.",IsValid:e=>null!=e&&0!==e.trim().length},QAreaValue:{Value:"",Description:"Defines the Output Measurement for EstimatedSize.",IsValid:e=>null!=e&&0!==e.trim().length}},l=["WarningSignal","RealPower","ReactivePower","QAreaValue"],s={WarningSignal:"Warning Signal",RealPower:"Real Power",ReactivePower:"Reactive Power",QAreaValue:"Q Area Value"},c=(e,t,n)=>new i.GrafanaQueryFunctions(`${t}api/Grafana`).Search({dataTypeIndex:i.Grafana.DataTypeIndex.Phasor,expression:`SELECT MagnitudePointTag, AnglePointTag FROM PhasorValues WHERE MagnitudePointTag LIKE '%${e}%' OR AnglePointTag LIKE '%${e}%' AND Type = '${n?"I":"V"}'`}).then((e=>{const t=[];return e.forEach((e=>{const[n,a]=e.split(",");t.push({Label:n,Value:n}),t.push({Label:a,Value:a})})),t}));var u=n(32098),f=n.n(u),d=n(55476),h=n(24334),m=n(28188),p=n(94194);const v="MM/DD/YYYY HH:mm:ss.SSS",g={Currents:{Value:[],Description:"Defines the Current Magnitude to be used.",Parse:e=>null==e?[]:""===e?[""]:e.split(";"),Construct:e=>0===(null==e?void 0:e.length)?null:null==e?void 0:e.join(";")},Voltages:{Value:[],Description:"Defines the Voltage Magnitude to be used. If not supplied the system will use Primary or Secondary Voltage associated with the Current Phasor.",Parse:e=>null==e?[]:""===e?[""]:e.split(";"),Construct:e=>0===(null==e?void 0:e.length)?null:null==e?void 0:e.join(";")}},y=e=>[{refID:"A",target:`Filter PhasorValues Where ${e.map((e=>`(AnglePointTag = '${e}' OR MagnitudePointTag = '${e}')`)).join(" OR ")}`,metadataSelections:[]}],x={Settings:e=>{var t,n,u,f,d,h;const m=a.useMemo((()=>i.AdapterHelperFuncs.parseConnectionString(e.ConnectionString,r)),[e.ConnectionString]);i.AdapterHelperFuncs.useSetInitialConnectionString(e.ConnectionString,e.SetConnectionString,r,m),i.AdapterHelperFuncs.useSetDefaultSettings(r,e.SetDefaultSettings);const[p,v]=a.useState(!0),g=a.useCallback((t=>{const n=i.AdapterHelperFuncs.constructConnectionString(t,r);e.SetConnectionString(n)}),[e.ConnectionString]),y=a.useCallback(((e,t)=>{const n=Object.assign(Object.assign({},m),{[t]:e});g(n)}),[m,g]),x=a.useCallback((e=>{g(Object.assign(Object.assign({},m),{Currents:[e]}))}),[m,g]),M=a.useCallback((e=>{g(Object.assign(Object.assign({},m),{Voltages:[e]}))}),[m,g]),S=a.useCallback((e=>{v(e.AutoMapVoltages),e.AutoMapVoltages&&g(Object.assign(Object.assign({},m),{Voltages:[]}))}),[m,g]);return a.useEffect((()=>{if(null==m)return;const t=[];1===m.Voltages.length||p||t.push("At least 1 Voltage input is required."),1!==m.Currents.length&&t.push("At least 1 Current input is required."),r.WarningSignal.IsValid(m.WarningSignal)||t.push("Warning Signal Output Measurement can not be empty."),r.RealPower.IsValid(m.RealPower)||t.push("RealPower Output Measurement can not be empty."),r.ReactivePower.IsValid(m.ReactivePower)||t.push("Reactive Power Output Measurement can not be empty."),r.QAreaValue.IsValid(m.QAreaValue)||t.push("Q Area Value Output Measurement can not be empty."),r.LagTime.IsValid(m.LagTime)||t.push("Lag Time must be greater than 0."),r.LeadTime.IsValid(m.LeadTime)||t.push("Lead Time must be greater than 0."),r.FramesPerSecond.IsValid(m.FramesPerSecond)||t.push("Frames Per Second must be greater than 0."),e.SetErrors(t)}),[m,p]),null==m?a.createElement(a.Fragment,null):a.createElement("div",{className:"container-fluid d-flex flex-column h-100 p-0"},a.createElement("div",{className:"row"},a.createElement("div",{className:"col-12"},a.createElement("fieldset",{className:"border",style:{padding:"10px"}},a.createElement("legend",{className:"w-auto pr-2",style:{fontSize:"large"}},"Phase Pair(s)"),a.createElement("div",{className:"row"},a.createElement("div",{className:"col-12"},a.createElement(o.ToggleSwitch,{Record:{AutoMapVoltages:p},Field:"AutoMapVoltages",Setter:S,Label:"Auto Map Voltages",Help:"Flag to enable system to use Primary or Secondary Voltage associated of the Current Phasor."}))),a.createElement("div",{className:"row"},a.createElement("div",{className:"col-6"},a.createElement(o.SearchableSelect,{Record:{Value:null!==(n=null===(t=m.Currents)||void 0===t?void 0:t[0])&&void 0!==n?n:""},Field:"Value",Label:"Current Input",Setter:e=>x(e.Value),AllowCustom:!1,Search:t=>c(t,e.HomePath,!0),Style:{width:"100%"},BtnStyle:{display:"flex",paddingLeft:0,alignItems:"center"}})),a.createElement("div",{className:"col-6"},a.createElement(o.SearchableSelect,{Record:{Value:null!==(f=null===(u=m.Voltages)||void 0===u?void 0:u[0])&&void 0!==f?f:""},Field:"Value",Label:"Voltage Input",Setter:e=>M(e.Value),AllowCustom:!1,Search:t=>c(t,e.HomePath,!1),Style:{width:"100%"},BtnStyle:{display:"flex",paddingLeft:0,alignItems:"center"},Disabled:p||0===(null!==(h=null===(d=m.Currents)||void 0===d?void 0:d.length)&&void 0!==h?h:0)})))))),a.createElement("div",{className:"row"},a.createElement("div",{className:"col-12"},a.createElement("fieldset",{className:"border",style:{padding:"10px"}},a.createElement("legend",{className:"w-auto pr-2",style:{fontSize:"large"}},"Outputs"),l.map((t=>{const n=m[t];return a.createElement("div",{className:"row mb-2 align-items-center",key:t},a.createElement("div",{className:"col-12"},a.createElement(o.SearchableSelect,{Record:{Measurement:n},Field:"Measurement",Label:s[t],Setter:e=>y(e.Measurement,t),AllowCustom:!1,Search:t=>(0,i.handleMeasurementSearch)(t,`${e.HomePath}api/grafana`),Style:{width:"100%"},BtnStyle:{display:"flex",paddingLeft:0,alignItems:"center"}})))}))))),a.createElement("div",{className:"row"},a.createElement("div",{className:"col-12"},a.createElement(o.Input,{Record:m,Setter:g,Label:"Analysis Interval",Type:"number",Field:"AnalysisInterval",Valid:()=>!0,Help:r.AnalysisInterval.Description,AllowNull:!0}))),a.createElement("div",{className:"row"},a.createElement("div",{className:"col-12 col-xl-4"},a.createElement(o.Input,{Record:m,Setter:g,Label:"Frames Per Second",Type:"number",Field:"FramesPerSecond",Valid:e=>{var t,n,a;return null===(a=null===(n=null===(t=null==r?void 0:r.FramesPerSecond)||void 0===t?void 0:t.IsValid)||void 0===n?void 0:n.call(t,m[e]))||void 0===a||a},Feedback:"Frames Per Second must be greater than 0.",Help:r.FramesPerSecond.Description,AllowNull:!0})),a.createElement("div",{className:"col-12 col-xl-4"},a.createElement(o.Input,{Record:m,Setter:g,Label:"Lag Time",Type:"number",Field:"LagTime",Valid:e=>{var t,n,a;return null===(a=null===(n=null===(t=r.LagTime)||void 0===t?void 0:t.IsValid)||void 0===n?void 0:n.call(t,m[e]))||void 0===a||a},Feedback:"Lag Time must be greater than 0.",Help:r.LagTime.Description,AllowNull:!0})),a.createElement("div",{className:"col-12 col-xl-4"},a.createElement(o.Input,{Record:m,Setter:g,Label:"Lead Time",Type:"number",Field:"LeadTime",Valid:e=>{var t,n,a;return null===(a=null===(n=null===(t=r.LeadTime)||void 0===t?void 0:t.IsValid)||void 0===n?void 0:n.call(t,m[e]))||void 0===a||a},Feedback:"Lead Time must be greater than 0.",Help:r.LeadTime.Description,AllowNull:!0}))))},Input:e=>{const t=`${e.HomePath}api/grafana`,n=a.useRef(null),{width:o}=(0,h.useGetContainerPosition)(n),r=(0,i.useGetLegendWidth)(o),{Currents:l,Voltages:s}=a.useMemo((()=>i.AdapterHelperFuncs.parseConnectionString(e.ConnectionString,g)),[e.ConnectionString]),[c,u]=a.useState({start:f().utc().subtract(e.Settings.DefaultDuration,"seconds").format(v).toString(),end:f().utc().format(v).toString()}),x=a.useMemo((()=>y(null!=l?l:[])),[l]),M=a.useMemo((()=>y(null!=s?s:[])),[s]),{Data:S,Status:b}=(0,i.useGrafanaQuery)(x,f().utc(c.start).toISOString(),f().utc(c.end).toISOString(),t,i.Grafana.DataTypeIndex.Phasor),{Data:E,Status:T}=(0,i.useGrafanaQuery)(M,f().utc(c.start).toISOString(),f().utc(c.end).toISOString(),t,i.Grafana.DataTypeIndex.Phasor);return a.createElement(a.Fragment,null,a.createElement("div",{className:"container-fluid d-flex flex-column h-100 p-0"},a.createElement("div",{className:"row m-0 pb-3"},a.createElement("div",{className:"col-12 p-0"},a.createElement(d.TimeFilter,{filter:c,setFilter:(e,t)=>u({start:e,end:t}),showQuickSelect:!0,isHorizontal:!0,dateTimeSetting:e.Settings.DateTimeSetting,timeZone:"UTC",format:"datetime-local",accuracy:"millisecond",showHelpMessage:!1}))),"loading"===b||"loading"===T?a.createElement("div",{className:"row m-0"},a.createElement("div",{className:"col-12 p-0 d-flex flex-column align-items-center justify-content-center"},a.createElement(p.ReactIcons.SpiningIcon,{Size:200}))):a.createElement(a.Fragment,null,a.createElement("div",{className:"row m-0"},a.createElement("div",{className:"col-9 p-0",ref:n},a.createElement(m.Kl,{defaultTdomain:[f().utc(c.start,v).valueOf(),f().utc(c.end,v).valueOf()],height:200,width:o,Ylabel:"Voltage (Mag)",legend:"right",yDomain:"AutoValue",Tlabel:"Time",useMetricFactors:!1,legendWidth:r},E.map(((e,t)=>a.createElement(m.N1,{key:t,data:e.datapoints.map((e=>[e[2],e[0]])),color:(0,i.getColor)(t),lineStyle:"-",legend:e.target}))))),a.createElement("div",{className:"col-3 p-0 d-flex justify-content-center align-items-center"},a.createElement("svg",{width:"140",height:"140",viewBox:"0 0 140 140",style:{display:"block",marginTop:"8px"}},a.createElement("circle",{style:{fill:"none",stroke:"currentColor"},cx:70,cy:70,r:65}),a.createElement("circle",{style:{fill:"none",stroke:"currentColor"},cx:70,cy:70,r:35}),a.createElement("line",{style:{stroke:"currentColor"},x1:70,y1:0,x2:70,y2:140}),a.createElement("line",{style:{stroke:"currentColor"},x1:0,y1:70,x2:140,y2:70}),a.createElement("g",null,E.map(((e,t)=>0!==e.datapoints.length&&a.createElement("path",{key:t,style:{fill:(0,i.getColor)(t),stroke:(0,i.getColor)(t)},d:"M 70 70 L 70 0 L 65 10 L 75 10 L 70 0",transform:`rotate(${e.datapoints[0][1]} 70 70)`}))))))),a.createElement("div",{className:"row m-0"},a.createElement("div",{className:"col-9 p-0"},a.createElement(m.Kl,{defaultTdomain:[f().utc(c.start,v).valueOf(),f().utc(c.end,v).valueOf()],height:250,width:o,Ylabel:"Current (Mag)",legend:"right",yDomain:"AutoValue",Tlabel:"Time",useMetricFactors:!1,legendWidth:r},S.map(((e,t)=>a.createElement(m.N1,{key:t,data:e.datapoints.map((e=>[e[2],e[0]])),color:(0,i.getColor)(t),lineStyle:"-",legend:e.target}))))),a.createElement("div",{className:"col-3 p-0 d-flex justify-content-center align-items-center"},a.createElement("svg",{width:"140",height:"140",viewBox:"0 0 140 140",style:{display:"block",marginTop:"8px"}},a.createElement("circle",{style:{fill:"none",stroke:"currentColor"},cx:70,cy:70,r:65}),a.createElement("circle",{style:{fill:"none",stroke:"currentColor"},cx:70,cy:70,r:35}),a.createElement("line",{style:{stroke:"currentColor"},x1:70,y1:0,x2:70,y2:140}),a.createElement("line",{style:{stroke:"currentColor"},x1:0,y1:70,x2:140,y2:70}),a.createElement("g",null,S.map(((e,t)=>0!==e.datapoints.length&&a.createElement("path",{key:t,style:{fill:(0,i.getColor)(t),stroke:(0,i.getColor)(t)},d:"M 70 70 L 70 0 L 65 10 L 75 10 L 70 0",transform:`rotate(${e.datapoints[0][1]} 70 70)`}))))))))))},Output:e=>{const{WarningSignal:t,ReactivePower:n,RealPower:o,QAreaValue:r}=i.AdapterHelperFuncs.parseConnectionString(e.ConnectionString),l=[t,n,o,r].filter((e=>null!=e&&""!==e)).join("; ");return a.createElement(i.DefaultAdapterOutput,Object.assign({},e,{Outputs:l}))}}}}]);