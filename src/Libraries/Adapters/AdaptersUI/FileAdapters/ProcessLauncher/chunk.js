"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[16],{91016:(e,t,a)=>{a.r(t),a.d(t,{default:()=>c});var l=a(6904),i=a(54840),n=a(2580),r=a(94194);const s=e=>{var t,a;const i=l.useCallback((()=>{const t=[...e.Vars,{Name:"",Value:""}];e.SetVars(t)}),[e.Vars,e.SetVars]),s=l.useCallback(((t,a)=>{const l=[...e.Vars];l[a]=t,e.SetVars(l)}),[e.Vars,e.SetVars]),o=l.useCallback((t=>{const a=[...e.Vars];a.splice(t,1),e.SetVars(a)}),[e.Vars,e.SetVars]);return l.createElement(l.Fragment,null,null==e.Vars?null:l.createElement("fieldset",{className:"border",style:{padding:"10px"}},l.createElement("legend",{className:"w-auto pr-2",style:{fontSize:"large"}},l.createElement("div",{className:"row align-items-center"},l.createElement("div",{className:"col-auto"},"Environment Variables"),0===(null===(t=e.Vars)||void 0===t?void 0:t.length)?l.createElement("div",{className:"col-auto"},l.createElement("button",{className:"btn",onClick:()=>i()},l.createElement(r.ReactIcons.CirclePlus,null))):null)),l.createElement("div",{className:"row m-0"},l.createElement("div",{className:"col-12"},null===(a=e.Vars)||void 0===a?void 0:a.map(((t,a)=>l.createElement(l.Fragment,{key:a},l.createElement("div",{className:"row align-items-center"},l.createElement("div",{className:"col-auto"},l.createElement(n.Input,{Record:t,Field:"Name",Type:"text",AllowNull:!1,Setter:e=>s(e,a),Valid:()=>!0})),l.createElement("div",{className:"col"},l.createElement(n.Input,{Record:t,Field:"Value",Type:"text",Setter:e=>s(e,a),Valid:()=>!0})),l.createElement("div",{className:"col-auto"},l.createElement("button",{className:"btn",onClick:()=>o(a)},l.createElement(r.ReactIcons.TrashCan,{Color:"red"}))),a===e.Vars.length-1?l.createElement("div",{className:"col-auto"},l.createElement("button",{className:"btn",onClick:()=>i()},l.createElement(r.ReactIcons.CirclePlus,null))):null))))))))},o={SupportsTemporalProcessing:{Description:"Define the flag indicating if this adapter supports temporal processing.",Value:!1},FileName:{Description:"Define the path and filename of executable to launch as a new process.",Value:""},Arguments:{Description:"Define any command line arguments to use when launching the process.",Value:""},WorkingDirectory:{Description:"Define working directory to use when launching the process. Defaults to path of executable to launch.",Value:""},EnvironmentalVariables:{Description:"Define any needed environmental variables that should be set or updated before launching the process. Use connection string format to define variables, for example: variable1=value1; variable2=value2",Value:[],Parse:e=>{if(null==e||""===e)return[];const t=e.split(";").map((e=>e.trim())).filter((e=>""!==e)),a=[];return t.forEach((e=>{const[t,...l]=e.split("=");a.push({Name:t,Value:l.join("=")})})),a},Construct:e=>null==e||0===e.length?"":e.map((e=>`${e.Name}=${e.Value}`)).join("; ")},CreateNoWindow:{Description:"Define flag that determines if a new window should be created when launching the process. This property is only applicable when adapter hosting environment can interact with a user interface.",Value:!0},WindowStyle:{Description:"Define window style to use when launching the process if creating a window. This property is only applicable when adapter hosting environment can interact with a user interface.",Value:"Normal"},ErrorDialog:{Description:"Define flag that determines if an error dialog should be displayed if the process cannot be launched. This property is only applicable when adapter hosting environment can interact with a user interface.",Value:!1},Domain:{Description:"Define the user domain to use when creating an authentication context before launching the process. Leave blank to use authentication context of hosting environment.",Value:""},UserName:{Description:"Define the username to use when creating an authentication context before launching the process. Leave blank to use authentication context of hosting environment.",Value:""},Password:{Description:"Define the user password to use when creating an authentication context before launching the process. Leave blank to use authentication context of hosting environment.",Value:""},LoadUserProfile:{Description:"Define flag that determines if Windows user profile should be loaded from the registry before launching the process.",Value:!1},InitialInputFileName:{Description:"Define filename that contains text to use as input into process after it has been launched. UTF-8 encoding assumed.",Value:""},InitialInputProcessingDelay:{Description:"Define the processing delay, in milliseconds, before text defined in the InitialInputFileName is sent to the launched process.",Value:2e3},RedirectOutputToHostEnvironment:{Description:"Define flag that determines if process standard output should be redirected to the hosting environment.",Value:!0},RedirectErrorToHostEnvironment:{Description:"Define flag that determines if process standard error output should be redirected to the hosting environment.",Value:!0},ProcessOutputAsLogMessages:{Description:'Define flag that determines if redirected output should be attempted to be parsed as formatted log messages, e.g.: lvl=info msg="log message".',Value:!1},LogMessageTextExpression:{Description:"Define regular expression used to find log message text when redirected output is processed as formatted log messages. Multiple matches will be joined as a single string.",Value:'(?<=.*msg\\s*\\=\\s*")[^"]*(?=")'},LogMessageLevelExpression:{Description:"Define regular expression used to find log message level when redirected output is processed as formatted log messages.",Value:"(?<=.*lvl\\s*\\=\\s*)[^\\s]*(?=\\s|$)"},LogMessageLevelMappings:{Description:'Define log level mappings to use when redirected output is processed as formatted log messages. Use connection string format as "log_level_name=GSF.Diagnostics.MessageLevel", for example: info=Info; warn=Warning; error=Error; critical=Critical; debug=Debug',Value:"info=Info; warn=Warning; error=Error; critical=Critical; debug=Debug"},ForceKillOnDispose:{Description:"Define flag that determines if launched process should be forcibly terminated when adapter is disposed.",Value:!0},ChildProcessTarget:{Description:"Define the name of the child process to target for additional monitoring and termination when adapter is disposed.",Value:""},ChildProcessQueryTimeout:{Description:"Define the maximum processing time allowed, in milliseconds, for querying for available associated child processes.",Value:2e3},ShowChildProcesses:{Description:"Define flag that determines if child processes should be shown during initialization for configuration purposes. It is not recommended to leave property enabled.",Value:!1},UtilizationUpdateInterval:{Description:"Define the interval over which to update the launched process CPU utilization. Set to 0 to disable utilization calculations.",Value:5e3},TrackProcessStatistics:{Description:"Define flag that determines if statistics should be tracked for launched process.",Value:!0}},c={Settings:e=>{const t=l.useMemo((()=>i.AdapterHelperFuncs.parseConnectionString(e.ConnectionString,o)),[e.ConnectionString]);i.AdapterHelperFuncs.useSetInitialConnectionString(e.ConnectionString,e.SetConnectionString,o,t),i.AdapterHelperFuncs.useSetDefaultSettings(o,e.SetDefaultSettings);const a=l.useCallback((t=>{const a=i.AdapterHelperFuncs.constructConnectionString(t,o);e.ConnectionString!==a&&e.SetConnectionString(a)}),[e.ConnectionString]);return null==t?l.createElement(l.Fragment,null):l.createElement(l.Fragment,null,l.createElement("div",{className:"container-fluid d-flex flex-column h-100 p-0"},l.createElement("div",{className:"row"},l.createElement("div",{className:"col-6"},l.createElement(n.Input,{Record:t,Type:"text",AllowNull:!1,Field:"WorkingDirectory",Label:"Working Directory",Valid:e=>!0,Setter:a,Help:o.WorkingDirectory.Description})),l.createElement("div",{className:"col-6"},l.createElement(n.Input,{Record:t,Type:"text",AllowNull:!1,Field:"FileName",Label:"File Path",Valid:e=>!0,Setter:a,Help:o.FileName.Description}))),l.createElement("div",{className:"row"},l.createElement("div",{className:"col-12"},l.createElement(n.Input,{Record:t,Type:"text",AllowNull:!1,Field:"Arguments",Label:"Arguments",Valid:e=>!0,Setter:a,Help:o.Arguments.Description}))),l.createElement("div",{className:"row mb-2"},l.createElement("div",{className:"col-12"},l.createElement(s,{Vars:null==t?void 0:t.EnvironmentalVariables,SetVars:e=>a(Object.assign(Object.assign({},t),{EnvironmentalVariables:e}))}))),l.createElement("div",{className:"row"},l.createElement("div",{className:"col-6"},l.createElement(n.Input,{Record:t,Type:"text",AllowNull:!1,Field:"InitialInputFileName",Label:"Initial Input File Name",Valid:e=>!0,Setter:a,Help:o.InitialInputFileName.Description})),l.createElement("div",{className:"col-6"},l.createElement(n.Input,{Record:t,Type:"number",AllowNull:!1,Field:"InitialInputProcessingDelay",Label:"Initial Input Processing Delay",Valid:e=>!0,Setter:a,Help:o.InitialInputProcessingDelay.Description}))),l.createElement("div",{className:"row"},l.createElement("div",{className:"col-6"},l.createElement(n.Input,{Record:t,Type:"text",AllowNull:!1,Field:"Domain",Label:"Domain",Valid:e=>!0,Setter:a,Help:o.Domain.Description})),l.createElement("div",{className:"col-6"},l.createElement(n.Input,{Record:t,Type:"text",AllowNull:!1,Field:"UserName",Label:"User Name",Valid:e=>!0,Setter:a,Help:o.UserName.Description}))),l.createElement("div",{className:"row align-items-center"},l.createElement("div",{className:"col-3"},l.createElement(n.ToggleSwitch,{Record:t,Field:"LoadUserProfile",Label:"Load User Profile",Setter:a,Help:o.LoadUserProfile.Description})),l.createElement("div",{className:"col-9"},l.createElement(n.Input,{Record:t,Type:"text",AllowNull:!1,Field:"Password",Label:"Password",Valid:e=>!0,Setter:a,Help:o.Password.Description}))),l.createElement("div",{className:"row"},l.createElement("div",{className:"col-12"},l.createElement(n.TextArea,{Rows:3,Record:t,Field:"LogMessageTextExpression",Label:"Log Message Regex",Valid:e=>!0,Setter:a,Help:o.LogMessageTextExpression.Description}))),l.createElement("div",{className:"row"},l.createElement("div",{className:"col-12"},l.createElement(n.TextArea,{Rows:3,Record:t,Field:"LogMessageLevelExpression",Label:"Log Message Level Regex",Valid:e=>!0,Setter:a,Help:o.LogMessageLevelExpression.Description}))),l.createElement("div",{className:"row"},l.createElement("div",{className:"col-12"},l.createElement(n.Input,{Record:t,Type:"text",AllowNull:!1,Field:"LogMessageLevelMappings",Label:"Log Message Level Mappings",Valid:e=>!0,Setter:a,Help:o.LogMessageLevelMappings.Description}))),l.createElement("div",{className:"row"},l.createElement("div",{className:"col-6"},l.createElement(n.Input,{Record:t,Type:"text",AllowNull:!1,Field:"ChildProcessTarget",Label:"Child Process Target",Valid:e=>!0,Setter:a,Help:o.ChildProcessTarget.Description})),l.createElement("div",{className:"col-6"},l.createElement(n.Input,{Record:t,Type:"number",AllowNull:!1,Field:"ChildProcessQueryTimeout",Label:"Child Process Query Timeout",Valid:e=>!0,Setter:a,Help:o.ChildProcessQueryTimeout.Description}))),l.createElement("div",{className:"row"},l.createElement("div",{className:"col-12"},l.createElement(n.Input,{Record:t,Type:"number",AllowNull:!1,Field:"UtilizationUpdateInterval",Label:"Utilization Update Interval",Valid:e=>!0,Setter:a,Help:o.UtilizationUpdateInterval.Description}))),l.createElement("div",{className:"row"},l.createElement("div",{className:"col-12"},l.createElement(n.ToggleSwitch,{Record:t,Field:"ProcessOutputAsLogMessages",Label:"Log Process Output",Setter:a,Help:o.ProcessOutputAsLogMessages.Description}))),l.createElement("div",{className:"row"},l.createElement("div",{className:"col-12"},l.createElement(n.ToggleSwitch,{Record:t,Field:"ForceKillOnDispose",Label:"Force Kill On Dispose",Setter:a,Help:o.ForceKillOnDispose.Description}))),l.createElement("div",{className:"row"},l.createElement("div",{className:"col-12"},l.createElement(n.ToggleSwitch,{Record:t,Field:"TrackProcessStatistics",Label:"Track Process Statistics",Setter:a,Help:o.TrackProcessStatistics.Description}))),l.createElement("div",{className:"row"},l.createElement("div",{className:"col-12"},l.createElement(n.ToggleSwitch,{Record:t,Field:"RedirectOutputToHostEnvironment",Label:"Redirect Output To Host Environment",Setter:a,Help:o.RedirectOutputToHostEnvironment.Description}))),l.createElement("div",{className:"row"},l.createElement("div",{className:"col-12"},l.createElement(n.ToggleSwitch,{Record:t,Field:"RedirectErrorToHostEnvironment",Label:"Redirect Error To Host Environment",Setter:a,Help:o.RedirectErrorToHostEnvironment.Description}))),l.createElement("div",{className:"row"},l.createElement("div",{className:"col-12"},l.createElement(n.ToggleSwitch,{Record:t,Field:"ShowChildProcesses",Label:"Show Child Processes",Setter:a,Help:o.ShowChildProcesses.Description}))),l.createElement("div",{className:"row"},l.createElement("div",{className:"col-12"},l.createElement(n.ToggleSwitch,{Record:t,Field:"CreateNoWindow",Label:"Create No Window",Setter:a,Help:o.CreateNoWindow.Description}))),l.createElement("div",{className:"row"},l.createElement("div",{className:"col-12"},l.createElement(n.Select,{Record:t,Field:"WindowStyle",Label:"Window Style",Setter:a,Help:o.WindowStyle.Description,Options:i.AdapterOptions.WindowStyleOptions,Disabled:null==t?void 0:t.CreateNoWindow}))),l.createElement("div",{className:"row"},l.createElement("div",{className:"col-12"},l.createElement(n.ToggleSwitch,{Record:t,Field:"ErrorDialog",Label:"Error Dialog",Setter:a,Help:o.ErrorDialog.Description})))))},Input:null,Output:null}}}]);